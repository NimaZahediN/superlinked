<div class="flex h-full flex-1 flex-col overflow-hidden"><div class="bg-main border-b-border sticky top-0 z-10 border-b border-dashed md:hidden"><div class="flex cursor-pointer items-center gap-2 p-3"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="transition-transform"><path d="M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"></path></svg><span class="truncate text-base font-normal">Menu</span></div></div><div class="relative flex-1 overflow-y-auto px-3 pt-3 md:rounded-md md:px-0 md:pt-0 [&amp;_::selection]:bg-purple-500/40" style="scrollbar-color: var(--color-night) transparent;"><div class="pb-30 mx-auto max-w-2xl md:pb-40 md:pt-6 lg:pt-8"><div class="prose prose-invert dark:prose-invert prose-headings:text-inherit prose-p:text-inherit max-w-none"><div><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><h1 id="index-and-query-system" class="group" data-header="true">Index and Query System<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h1>
<details>
<summary>Relevant source files</summary>
<ul>
<li><a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/analytics_user_acquisition.ipynb" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/analytics_user_acquisition.ipynb</span></a></li>
<li><a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/feature/basic_building_blocks.ipynb" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/feature/basic_building_blocks.ipynb</span></a></li>
<li><a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/feature/recency_embedding.ipynb" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/feature/recency_embedding.ipynb</span></a></li>
<li><a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/rag_hr_knowledgebase.ipynb" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/rag_hr_knowledgebase.ipynb</span></a></li>
<li><a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/recommendations_e_commerce.ipynb" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/recommendations_e_commerce.ipynb</span></a></li>
<li><a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/semantic_search_netflix_titles.ipynb" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/semantic_search_netflix_titles.ipynb</span></a></li>
<li><a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/semantic_search_news.ipynb" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4] rounded-r"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/semantic_search_news.ipynb</span></a></li>
</ul>
</details>
<p>The Index and Query System provides the core querying architecture for building complex vector searches with filtering, dynamic parameters, and multi-space weighting. The system centers around the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryDescriptor</code> class which builds queries through a fluent interface, supporting both similarity search and hard filtering operations.</p>
<p>This system transforms vector embeddings from Spaces into executable search queries with configurable parameters and returns structured results with metadata.</p>
<h2 id="core-architecture-overview" class="group" data-header="true">Core Architecture Overview<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>The Index and Query System consists of three primary layers: the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">Index</code> that combines multiple <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">Space</code> objects, the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">Query</code> construction that builds queries through a fluent interface, and the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryResult</code> structure that provides search results with metadata.</p>
<h2 id="core-system-flow" class="group" data-header="true">Core System Flow<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«r1»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 2582.66796875 1309" style="max-width: 2582.67px; touch-action: none; user-select: none; cursor: grab;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-alp7q5gl08b" preserveAspectRatio="xMidYMid meet"><style>#mermaid-alp7q5gl08b{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-alp7q5gl08b .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-alp7q5gl08b .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-alp7q5gl08b .error-icon{fill:#dddddd;}#mermaid-alp7q5gl08b .error-text{fill:#222222;stroke:#222222;}#mermaid-alp7q5gl08b .edge-thickness-normal{stroke-width:1px;}#mermaid-alp7q5gl08b .edge-thickness-thick{stroke-width:3.5px;}#mermaid-alp7q5gl08b .edge-pattern-solid{stroke-dasharray:0;}#mermaid-alp7q5gl08b .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-alp7q5gl08b .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-alp7q5gl08b .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-alp7q5gl08b .marker{fill:#999;stroke:#999;}#mermaid-alp7q5gl08b .marker.cross{stroke:#999;}#mermaid-alp7q5gl08b svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-alp7q5gl08b p{margin:0;}#mermaid-alp7q5gl08b .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-alp7q5gl08b .cluster-label text{fill:#444;}#mermaid-alp7q5gl08b .cluster-label span{color:#444;}#mermaid-alp7q5gl08b .cluster-label span p{background-color:transparent;}#mermaid-alp7q5gl08b .label text,#mermaid-alp7q5gl08b span{fill:#333;color:#333;}#mermaid-alp7q5gl08b .node rect,#mermaid-alp7q5gl08b .node circle,#mermaid-alp7q5gl08b .node ellipse,#mermaid-alp7q5gl08b .node polygon,#mermaid-alp7q5gl08b .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-alp7q5gl08b .rough-node .label text,#mermaid-alp7q5gl08b .node .label text,#mermaid-alp7q5gl08b .image-shape .label,#mermaid-alp7q5gl08b .icon-shape .label{text-anchor:middle;}#mermaid-alp7q5gl08b .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-alp7q5gl08b .rough-node .label,#mermaid-alp7q5gl08b .node .label,#mermaid-alp7q5gl08b .image-shape .label,#mermaid-alp7q5gl08b .icon-shape .label{text-align:center;}#mermaid-alp7q5gl08b .node.clickable{cursor:pointer;}#mermaid-alp7q5gl08b .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-alp7q5gl08b .arrowheadPath{fill:#0b0b0b;}#mermaid-alp7q5gl08b .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-alp7q5gl08b .flowchart-link{stroke:#999;fill:none;}#mermaid-alp7q5gl08b .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-alp7q5gl08b .edgeLabel p{background-color:#ffffff;}#mermaid-alp7q5gl08b .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-alp7q5gl08b .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-alp7q5gl08b .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-alp7q5gl08b .cluster text{fill:#444;}#mermaid-alp7q5gl08b .cluster span{color:#444;}#mermaid-alp7q5gl08b div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-alp7q5gl08b .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-alp7q5gl08b rect.text{fill:none;stroke-width:0;}#mermaid-alp7q5gl08b .icon-shape,#mermaid-alp7q5gl08b .image-shape{background-color:#ffffff;text-align:center;}#mermaid-alp7q5gl08b .icon-shape p,#mermaid-alp7q5gl08b .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-alp7q5gl08b .icon-shape rect,#mermaid-alp7q5gl08b .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-alp7q5gl08b :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-alp7q5gl08b_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-alp7q5gl08b_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-alp7q5gl08b_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-alp7q5gl08b_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-alp7q5gl08b_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-alp7q5gl08b_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="Query_Execution" class="cluster"><rect height="440" width="362.234375" y="861" x="128.453125" style=""></rect><g transform="translate(248.2734375, 861)" class="cluster-label"><foreignObject height="24" width="122.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Query_Execution</p></span></div></foreignObject></g></g><g data-look="classic" id="Query_Building_Flow" class="cluster"><rect height="649" width="497.8984375" y="162" x="8" style=""></rect><g transform="translate(180.40234375, 162)" class="cluster-label"><foreignObject height="24" width="153.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Query_Building_Flow</p></span></div></foreignObject></g></g><g data-look="classic" id="Index_Construction" class="cluster"><rect height="312" width="1859.515625" y="162" x="611.69921875" style=""></rect><g transform="translate(1470.89453125, 162)" class="cluster-label"><foreignObject height="24" width="141.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Index_Construction</p></span></div></foreignObject></g></g><g data-look="classic" id="Space_Layer" class="cluster"><rect height="104" width="1513.109375" y="8" x="1061.55859375" style=""></rect><g transform="translate(1771.26953125, 8)" class="cluster-label"><foreignObject height="24" width="93.6875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Space_Layer</p></span></div></foreignObject></g></g><g data-look="classic" id="DSL_Entry_Points" class="cluster"><rect height="104" width="1019.26953125" y="8" x="22.2890625" style=""></rect><g transform="translate(467.134765625, 8)" class="cluster-label"><foreignObject height="24" width="129.578125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>DSL_Entry_Points</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_slIndex_IndexInit_0" d="M659.043,87L659.043,91.167C659.043,95.333,659.043,103.667,659.043,112C659.043,120.333,659.043,128.667,659.043,137C659.043,145.333,659.043,153.667,813.47,165.659C967.896,177.65,1276.75,193.301,1431.176,201.126L1585.603,208.951"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TextSimilaritySpace_IndexInit_0" d="M1205.012,87L1205.012,91.167C1205.012,95.333,1205.012,103.667,1205.012,112C1205.012,120.333,1205.012,128.667,1205.012,137C1205.012,145.333,1205.012,153.667,1268.447,164.702C1331.881,175.738,1458.751,189.475,1522.186,196.344L1585.621,203.213"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NumberSpace_IndexInit_0" d="M1453.402,87L1453.402,91.167C1453.402,95.333,1453.402,103.667,1453.402,112C1453.402,120.333,1453.402,128.667,1453.402,137C1453.402,145.333,1453.402,153.667,1475.451,162.779C1497.5,171.891,1541.597,181.782,1563.646,186.727L1585.695,191.673"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_RecencySpace_IndexInit_0" d="M1685.238,87L1685.238,91.167C1685.238,95.333,1685.238,103.667,1685.238,112C1685.238,120.333,1685.238,128.667,1685.238,137C1685.238,145.333,1685.238,153.667,1685.238,161.333C1685.238,169,1685.238,176,1685.238,179.5L1685.238,183"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CategoricalSimilaritySpace_IndexInit_0" d="M1961.988,87L1961.988,91.167C1961.988,95.333,1961.988,103.667,1961.988,112C1961.988,120.333,1961.988,128.667,1961.988,137C1961.988,145.333,1961.988,153.667,1932.459,163.382C1902.929,173.097,1843.87,184.194,1814.34,189.742L1784.81,195.291"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ImageSpace_IndexInit_0" d="M2229.801,87L2229.801,91.167C2229.801,95.333,2229.801,103.667,2229.801,112C2229.801,120.333,2229.801,128.667,2229.801,137C2229.801,145.333,2229.801,153.667,2155.644,164.915C2081.487,176.162,1933.174,190.325,1859.017,197.406L1784.861,204.487"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CustomSpace_IndexInit_0" d="M2451.215,87L2451.215,91.167C2451.215,95.333,2451.215,103.667,2451.215,112C2451.215,120.333,2451.215,128.667,2451.215,137C2451.215,145.333,2451.215,153.667,2340.157,165.373C2229.1,177.079,2006.985,192.158,1895.927,199.697L1784.87,207.236"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_IndexInit_Index_0" d="M1685.238,241L1685.238,245.167C1685.238,249.333,1685.238,257.667,1685.238,265.333C1685.238,273,1685.238,280,1685.238,283.5L1685.238,287"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Index_IndexHasSchema_0" d="M1685.238,345L1685.238,349.167C1685.238,353.333,1685.238,361.667,1685.238,369.333C1685.238,377,1685.238,384,1685.238,387.5L1685.238,391"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_slQuery_QueryDescriptor_0" d="M142.18,87L142.18,91.167C142.18,95.333,142.18,103.667,142.18,112C142.18,120.333,142.18,128.667,142.18,137C142.18,145.333,142.18,153.667,142.18,161.333C142.18,169,142.18,176,142.18,179.5L142.18,183"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryDescriptor_FindMethod_0" d="M142.18,241L142.18,245.167C142.18,249.333,142.18,257.667,142.18,265.333C142.18,273,142.18,280,142.18,283.5L142.18,287"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FindMethod_SimilarMethod_0" d="M142.18,345L142.18,349.167C142.18,353.333,142.18,361.667,146.048,369.539C149.916,377.411,157.653,384.822,161.521,388.528L165.39,392.233"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SimilarMethod_FilterMethod_0" d="M196.465,449L196.465,453.167C196.465,457.333,196.465,465.667,196.465,474C196.465,482.333,196.465,490.667,200.181,498.53C203.897,506.393,211.33,513.786,215.046,517.483L218.762,521.179"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FilterMethod_SelectMethod_0" d="M248.742,578L248.742,582.167C248.742,586.333,248.742,594.667,248.742,602.333C248.742,610,248.742,617,248.742,620.5L248.742,624"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SelectMethod_LimitMethod_0" d="M248.742,682L248.742,686.167C248.742,690.333,248.742,698.667,253.109,706.567C257.477,714.467,266.211,721.934,270.579,725.667L274.946,729.401"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_slParam_SimilarMethod_0" d="M363.039,87L353.836,91.167C344.633,95.333,326.227,103.667,317.023,112C307.82,120.333,307.82,128.667,307.82,137C307.82,145.333,307.82,153.667,307.82,166.5C307.82,179.333,307.82,196.667,307.82,214C307.82,231.333,307.82,248.667,307.82,266C307.82,283.333,307.82,300.667,307.82,318C307.82,335.333,307.82,352.667,299.502,365.218C291.183,377.769,274.546,385.538,266.227,389.423L257.908,393.308"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_slParam_FilterMethod_0" d="M405.432,87L402.771,91.167C400.109,95.333,394.787,103.667,392.126,112C389.465,120.333,389.465,128.667,389.465,137C389.465,145.333,389.465,153.667,389.465,166.5C389.465,179.333,389.465,196.667,389.465,214C389.465,231.333,389.465,248.667,389.465,266C389.465,283.333,389.465,300.667,389.465,318C389.465,335.333,389.465,352.667,389.465,370C389.465,387.333,389.465,404.667,389.465,422C389.465,439.333,389.465,456.667,389.465,469.5C389.465,482.333,389.465,490.667,378.814,498.769C368.164,506.871,346.863,514.742,336.212,518.678L325.562,522.614"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_slParam_LimitMethod_0" d="M438.253,87L440.657,91.167C443.06,95.333,447.868,103.667,450.272,112C452.676,120.333,452.676,128.667,452.676,137C452.676,145.333,452.676,153.667,452.676,166.5C452.676,179.333,452.676,196.667,452.676,214C452.676,231.333,452.676,248.667,452.676,266C452.676,283.333,452.676,300.667,452.676,318C452.676,335.333,452.676,352.667,452.676,370C452.676,387.333,452.676,404.667,452.676,422C452.676,439.333,452.676,456.667,452.676,469.5C452.676,482.333,452.676,490.667,452.676,503.5C452.676,516.333,452.676,533.667,452.676,551C452.676,568.333,452.676,585.667,452.676,603C452.676,620.333,452.676,637.667,452.676,655C452.676,672.333,452.676,689.667,441.359,702.445C430.042,715.224,407.409,723.449,396.092,727.561L384.775,731.673"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_LimitMethod_InMemoryExecutor_0" d="M309.57,786L309.57,790.167C309.57,794.333,309.57,802.667,309.57,811C309.57,819.333,309.57,827.667,309.57,836C309.57,844.333,309.57,852.667,309.57,860.333C309.57,868,309.57,875,309.57,878.5L309.57,882"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_InMemoryExecutor_AppQuery_0" d="M309.57,940L309.57,944.167C309.57,948.333,309.57,956.667,309.57,964.333C309.57,972,309.57,979,309.57,982.5L309.57,986"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_AppQuery_QueryResult_0" d="M309.57,1068L309.57,1072.167C309.57,1076.333,309.57,1084.667,309.57,1092.333C309.57,1100,309.57,1107,309.57,1110.5L309.57,1114"></path><path marker-end="url(#mermaid-alp7q5gl08b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryResult_PandasConverter_0" d="M309.57,1172L309.57,1176.167C309.57,1180.333,309.57,1188.667,309.57,1196.333C309.57,1204,309.57,1211,309.57,1214.5L309.57,1218"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(142.1796875, 60)" id="flowchart-slQuery-0" class="node default"><rect height="54" width="169.78125" y="-27" x="-84.890625" style="" class="basic label-container"></rect><g transform="translate(-54.890625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="109.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.Query(index)</p></span></div></foreignObject></g></g><g transform="translate(659.04296875, 60)" id="flowchart-slIndex-1" class="node default"><rect height="54" width="190.09375" y="-27" x="-95.046875" style="" class="basic label-container"></rect><g transform="translate(-65.046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="130.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.Index([spaces])</p></span></div></foreignObject></g></g><g transform="translate(422.67578125, 60)" id="flowchart-slParam-2" class="node default"><rect height="54" width="182.640625" y="-27" x="-91.3203125" style="" class="basic label-container"></rect><g transform="translate(-61.3203125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="122.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.Param('name')</p></span></div></foreignObject></g></g><g transform="translate(905.32421875, 60)" id="flowchart-slSchema-3" class="node default"><rect height="54" width="202.46875" y="-27" x="-101.234375" style="" class="basic label-container"></rect><g transform="translate(-71.234375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="142.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.Schema subclass</p></span></div></foreignObject></g></g><g transform="translate(1205.01171875, 60)" id="flowchart-TextSimilaritySpace-4" class="node default"><rect height="54" width="216.90625" y="-27" x="-108.453125" style="" class="basic label-container"></rect><g transform="translate(-78.453125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="156.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.TextSimilaritySpace</p></span></div></foreignObject></g></g><g transform="translate(1453.40234375, 60)" id="flowchart-NumberSpace-5" class="node default"><rect height="54" width="179.875" y="-27" x="-89.9375" style="" class="basic label-container"></rect><g transform="translate(-59.9375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="119.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.NumberSpace</p></span></div></foreignObject></g></g><g transform="translate(1685.23828125, 60)" id="flowchart-RecencySpace-6" class="node default"><rect height="54" width="183.796875" y="-27" x="-91.8984375" style="" class="basic label-container"></rect><g transform="translate(-61.8984375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="123.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.RecencySpace</p></span></div></foreignObject></g></g><g transform="translate(1961.98828125, 60)" id="flowchart-CategoricalSimilaritySpace-7" class="node default"><rect height="54" width="269.703125" y="-27" x="-134.8515625" style="" class="basic label-container"></rect><g transform="translate(-104.8515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="209.703125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.CategoricalSimilaritySpace</p></span></div></foreignObject></g></g><g transform="translate(2229.80078125, 60)" id="flowchart-ImageSpace-8" class="node default"><rect height="54" width="165.921875" y="-27" x="-82.9609375" style="" class="basic label-container"></rect><g transform="translate(-52.9609375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="105.921875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.ImageSpace</p></span></div></foreignObject></g></g><g transform="translate(2451.21484375, 60)" id="flowchart-CustomSpace-9" class="node default"><rect height="54" width="176.90625" y="-27" x="-88.453125" style="" class="basic label-container"></rect><g transform="translate(-58.453125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="116.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.CustomSpace</p></span></div></foreignObject></g></g><g transform="translate(1685.23828125, 318)" id="flowchart-Index-10" class="node default"><rect height="54" width="99.109375" y="-27" x="-49.5546875" style="" class="basic label-container"></rect><g transform="translate(-19.5546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="39.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Index</p></span></div></foreignObject></g></g><g transform="translate(1685.23828125, 214)" id="flowchart-IndexInit-11" class="node default"><rect height="54" width="191.28125" y="-27" x="-95.640625" style="" class="basic label-container"></rect><g transform="translate(-65.640625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="131.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Index.<strong>init</strong>(spaces)</p></span></div></foreignObject></g></g><g transform="translate(1685.23828125, 422)" id="flowchart-IndexHasSchema-12" class="node default"><rect height="54" width="206.28125" y="-27" x="-103.140625" style="" class="basic label-container"></rect><g transform="translate(-73.140625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="146.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Index.has_schema()</p></span></div></foreignObject></g></g><g transform="translate(142.1796875, 214)" id="flowchart-QueryDescriptor-13" class="node default"><rect height="54" width="180.140625" y="-27" x="-90.0703125" style="" class="basic label-container"></rect><g transform="translate(-60.0703125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="120.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QueryDescriptor</p></span></div></foreignObject></g></g><g transform="translate(142.1796875, 318)" id="flowchart-FindMethod-14" class="node default"><rect height="54" width="156.015625" y="-27" x="-78.0078125" style="" class="basic label-container"></rect><g transform="translate(-48.0078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>find(schema)</p></span></div></foreignObject></g></g><g transform="translate(196.46484375, 422)" id="flowchart-SimilarMethod-15" class="node default"><rect height="54" width="216.578125" y="-27" x="-108.2890625" style="" class="basic label-container"></rect><g transform="translate(-78.2890625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="156.578125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>similar(space, param)</p></span></div></foreignObject></g></g><g transform="translate(248.7421875, 551)" id="flowchart-FilterMethod-16" class="node default"><rect height="54" width="173.3125" y="-27" x="-86.65625" style="" class="basic label-container"></rect><g transform="translate(-56.65625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="113.3125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>filter(operation)</p></span></div></foreignObject></g></g><g transform="translate(248.7421875, 655)" id="flowchart-SelectMethod-17" class="node default"><rect height="54" width="140.203125" y="-27" x="-70.1015625" style="" class="basic label-container"></rect><g transform="translate(-40.1015625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="80.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>select_all()</p></span></div></foreignObject></g></g><g transform="translate(309.5703125, 759)" id="flowchart-LimitMethod-18" class="node default"><rect height="54" width="142.890625" y="-27" x="-71.4453125" style="" class="basic label-container"></rect><g transform="translate(-41.4453125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="82.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>limit(count)</p></span></div></foreignObject></g></g><g transform="translate(309.5703125, 913)" id="flowchart-InMemoryExecutor-19" class="node default"><rect height="54" width="196.1875" y="-27" x="-98.09375" style="" class="basic label-container"></rect><g transform="translate(-68.09375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="136.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>InMemoryExecutor</p></span></div></foreignObject></g></g><g transform="translate(309.5703125, 1029)" id="flowchart-AppQuery-20" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>app.query(query, **params)</p></span></div></foreignObject></g></g><g transform="translate(309.5703125, 1145)" id="flowchart-QueryResult-21" class="node default"><rect height="54" width="149.171875" y="-27" x="-74.5859375" style="" class="basic label-container"></rect><g transform="translate(-44.5859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="89.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QueryResult</p></span></div></foreignObject></g></g><g transform="translate(309.5703125, 1249)" id="flowchart-PandasConverter-22" class="node default"><rect height="54" width="292.234375" y="-27" x="-146.1171875" style="" class="basic label-container"></rect><g transform="translate(-116.1171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="232.234375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.PandasConverter.to_pandas()</p></span></div></foreignObject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<p>Sources: <a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/feature/basic_building_blocks.ipynb#L93-L143" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/feature/basic_building_blocks.ipynb</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">93-143</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/recommendations_e_commerce.ipynb#L388-L426" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/recommendations_e_commerce.ipynb</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">388-426</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/semantic_search_netflix_titles.ipynb#L238-L250" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/semantic_search_netflix_titles.ipynb</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">238-250</span></a></p>
<h2 id="index-creation-and-space-combination" class="group" data-header="true">Index Creation and Space Combination<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>An <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">Index</code> combines multiple <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">Space</code> objects into a unified searchable structure that can be queried through the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryDescriptor</code> interface. The index maintains references to constituent spaces and validates schema compatibility during query construction.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«r4»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1206.265625 813" style="max-width: 1206.27px; touch-action: none; user-select: none; cursor: grab;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-xoqgp1sd7c7" preserveAspectRatio="xMidYMid meet"><style>#mermaid-xoqgp1sd7c7{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-xoqgp1sd7c7 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-xoqgp1sd7c7 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-xoqgp1sd7c7 .error-icon{fill:#dddddd;}#mermaid-xoqgp1sd7c7 .error-text{fill:#222222;stroke:#222222;}#mermaid-xoqgp1sd7c7 .edge-thickness-normal{stroke-width:1px;}#mermaid-xoqgp1sd7c7 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-xoqgp1sd7c7 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-xoqgp1sd7c7 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-xoqgp1sd7c7 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-xoqgp1sd7c7 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-xoqgp1sd7c7 .marker{fill:#999;stroke:#999;}#mermaid-xoqgp1sd7c7 .marker.cross{stroke:#999;}#mermaid-xoqgp1sd7c7 svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-xoqgp1sd7c7 p{margin:0;}#mermaid-xoqgp1sd7c7 .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-xoqgp1sd7c7 .cluster-label text{fill:#444;}#mermaid-xoqgp1sd7c7 .cluster-label span{color:#444;}#mermaid-xoqgp1sd7c7 .cluster-label span p{background-color:transparent;}#mermaid-xoqgp1sd7c7 .label text,#mermaid-xoqgp1sd7c7 span{fill:#333;color:#333;}#mermaid-xoqgp1sd7c7 .node rect,#mermaid-xoqgp1sd7c7 .node circle,#mermaid-xoqgp1sd7c7 .node ellipse,#mermaid-xoqgp1sd7c7 .node polygon,#mermaid-xoqgp1sd7c7 .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-xoqgp1sd7c7 .rough-node .label text,#mermaid-xoqgp1sd7c7 .node .label text,#mermaid-xoqgp1sd7c7 .image-shape .label,#mermaid-xoqgp1sd7c7 .icon-shape .label{text-anchor:middle;}#mermaid-xoqgp1sd7c7 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-xoqgp1sd7c7 .rough-node .label,#mermaid-xoqgp1sd7c7 .node .label,#mermaid-xoqgp1sd7c7 .image-shape .label,#mermaid-xoqgp1sd7c7 .icon-shape .label{text-align:center;}#mermaid-xoqgp1sd7c7 .node.clickable{cursor:pointer;}#mermaid-xoqgp1sd7c7 .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-xoqgp1sd7c7 .arrowheadPath{fill:#0b0b0b;}#mermaid-xoqgp1sd7c7 .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-xoqgp1sd7c7 .flowchart-link{stroke:#999;fill:none;}#mermaid-xoqgp1sd7c7 .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-xoqgp1sd7c7 .edgeLabel p{background-color:#ffffff;}#mermaid-xoqgp1sd7c7 .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-xoqgp1sd7c7 .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-xoqgp1sd7c7 .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-xoqgp1sd7c7 .cluster text{fill:#444;}#mermaid-xoqgp1sd7c7 .cluster span{color:#444;}#mermaid-xoqgp1sd7c7 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-xoqgp1sd7c7 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-xoqgp1sd7c7 rect.text{fill:none;stroke-width:0;}#mermaid-xoqgp1sd7c7 .icon-shape,#mermaid-xoqgp1sd7c7 .image-shape{background-color:#ffffff;text-align:center;}#mermaid-xoqgp1sd7c7 .icon-shape p,#mermaid-xoqgp1sd7c7 .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-xoqgp1sd7c7 .icon-shape rect,#mermaid-xoqgp1sd7c7 .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-xoqgp1sd7c7 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-xoqgp1sd7c7_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-xoqgp1sd7c7_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-xoqgp1sd7c7_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-xoqgp1sd7c7_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-xoqgp1sd7c7_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-xoqgp1sd7c7_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph2" class="cluster"><rect height="436" width="304.40625" y="8" x="8" style=""></rect><g transform="translate(113.6796875, 8)" class="cluster-label"><foreignObject height="24" width="93.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Space Types</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph1" class="cluster"><rect height="124" width="835.859375" y="144" x="362.40625" style=""></rect><g transform="translate(717.0625, 144)" class="cluster-label"><foreignObject height="24" width="126.546875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Query Integration</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="341" width="610.6875" y="464" x="8" style=""></rect><g transform="translate(257.7578125, 464)" class="cluster-label"><foreignObject height="24" width="111.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Index Structure</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-xoqgp1sd7c7_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Index_IndexSpaces_0" d="M209.758,618.581L226.866,614.984C243.974,611.388,278.19,604.194,299.465,600.597C320.74,597,329.073,597,337.406,597C345.74,597,354.073,597,369.696,591.457C385.319,585.914,408.231,574.828,419.687,569.285L431.143,563.742"></path><path marker-end="url(#mermaid-xoqgp1sd7c7_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Index_IndexSchemas_0" d="M209.758,632.256L226.866,633.38C243.974,634.504,278.19,636.752,299.465,637.876C320.74,639,329.073,639,337.406,639C345.74,639,354.073,639,364.16,639C374.247,639,386.089,639,392.009,639L397.93,639"></path><path marker-end="url(#mermaid-xoqgp1sd7c7_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Index_HasSchema_0" d="M196.251,656L215.61,670.5C234.97,685,273.688,714,297.214,728.5C320.74,743,329.073,743,337.406,743C345.74,743,354.073,743,361.74,743C369.406,743,376.406,743,379.906,743L383.406,743"></path><path marker-end="url(#mermaid-xoqgp1sd7c7_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Index_QueryDescriptor_0" d="M190.871,602L211.127,584.167C231.383,566.333,271.894,530.667,296.317,512.833C320.74,495,329.073,495,337.406,495C345.74,495,354.073,495,377.331,451.943C400.589,408.886,438.771,322.771,457.863,279.714L476.954,236.657"></path><path marker-end="url(#mermaid-xoqgp1sd7c7_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryDescriptor_QueryDescriptorValidator_0" d="M580.617,206L586.962,206C593.307,206,605.997,206,616.509,206C627.021,206,635.354,206,643.021,206C650.688,206,657.688,206,661.188,206L664.688,206"></path><path marker-end="url(#mermaid-xoqgp1sd7c7_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryDescriptorValidator_ValidationCheck_0" d="M912.672,206L916.839,206C921.005,206,929.339,206,937.005,206C944.672,206,951.672,206,955.172,206L958.672,206"></path><path marker-end="url(#mermaid-xoqgp1sd7c7_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TextSimilaritySpace_IndexSpaces_0" d="M261.203,382L269.737,382C278.271,382,295.339,382,308.039,414.5C320.74,447,329.073,512,337.406,544.5C345.74,577,354.073,577,365.299,574.686C376.525,572.372,390.643,567.745,397.702,565.431L404.761,563.117"></path><path marker-end="url(#mermaid-xoqgp1sd7c7_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NumberSpace_IndexSpaces_0" d="M242.023,278L253.754,278C265.484,278,288.945,278,304.842,324.5C320.74,371,329.073,464,337.406,510.5C345.74,557,354.073,557,365.275,555.792C376.478,554.584,390.549,552.168,397.585,550.96L404.62,549.752"></path><path marker-end="url(#mermaid-xoqgp1sd7c7_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_RecencySpace_IndexSpaces_0" d="M243.984,174L255.388,174C266.792,174,289.599,174,305.169,234.5C320.74,295,329.073,416,337.406,476.5C345.74,537,354.073,537,365.266,536.89C376.458,536.781,390.511,536.561,397.537,536.452L404.563,536.342"></path><path marker-end="url(#mermaid-xoqgp1sd7c7_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CategoricalSimilaritySpace_IndexSpaces_0" d="M287.406,70L291.573,70C295.74,70,304.073,70,312.406,144.167C320.74,218.333,329.073,366.667,337.406,440.833C345.74,515,354.073,515,365.274,516.098C376.474,517.196,390.542,519.391,397.576,520.489L404.61,521.587"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(160.203125, 629)" id="flowchart-Index-0" class="node default"><rect height="54" width="99.109375" y="-27" x="-49.5546875" style="" class="basic label-container"></rect><g transform="translate(-19.5546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="39.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Index</p></span></div></foreignObject></g></g><g transform="translate(490.546875, 535)" id="flowchart-IndexSpaces-1" class="node default"><rect height="54" width="163.96875" y="-27" x="-81.984375" style="" class="basic label-container"></rect><g transform="translate(-51.984375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="103.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Index._spaces</p></span></div></foreignObject></g></g><g transform="translate(490.546875, 639)" id="flowchart-IndexSchemas-2" class="node default"><rect height="54" width="177.234375" y="-27" x="-88.6171875" style="" class="basic label-container"></rect><g transform="translate(-58.6171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="117.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Index._schemas</p></span></div></foreignObject></g></g><g transform="translate(490.546875, 743)" id="flowchart-HasSchema-3" class="node default"><rect height="54" width="206.28125" y="-27" x="-103.140625" style="" class="basic label-container"></rect><g transform="translate(-73.140625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="146.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Index.has_schema()</p></span></div></foreignObject></g></g><g transform="translate(490.546875, 206)" id="flowchart-QueryDescriptor-4" class="node default"><rect height="54" width="180.140625" y="-27" x="-90.0703125" style="" class="basic label-container"></rect><g transform="translate(-60.0703125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="120.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QueryDescriptor</p></span></div></foreignObject></g></g><g transform="translate(790.6796875, 206)" id="flowchart-QueryDescriptorValidator-5" class="node default"><rect height="54" width="243.984375" y="-27" x="-121.9921875" style="" class="basic label-container"></rect><g transform="translate(-91.9921875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="183.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QueryDescriptorValidator</p></span></div></foreignObject></g></g><g transform="translate(1067.96875, 206)" id="flowchart-ValidationCheck-6" class="node default"><rect height="54" width="210.59375" y="-27" x="-105.296875" style="" class="basic label-container"></rect><g transform="translate(-75.296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="150.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>__validate_schema()</p></span></div></foreignObject></g></g><g transform="translate(160.203125, 382)" id="flowchart-TextSimilaritySpace-7" class="node default"><rect height="54" width="202" y="-27" x="-101" style="" class="basic label-container"></rect><g transform="translate(-71, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="142"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>TextSimilaritySpace</p></span></div></foreignObject></g></g><g transform="translate(160.203125, 278)" id="flowchart-NumberSpace-8" class="node default"><rect height="54" width="163.640625" y="-27" x="-81.8203125" style="" class="basic label-container"></rect><g transform="translate(-51.8203125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="103.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NumberSpace</p></span></div></foreignObject></g></g><g transform="translate(160.203125, 174)" id="flowchart-RecencySpace-9" class="node default"><rect height="54" width="167.5625" y="-27" x="-83.78125" style="" class="basic label-container"></rect><g transform="translate(-53.78125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="107.5625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>RecencySpace</p></span></div></foreignObject></g></g><g transform="translate(160.203125, 70)" id="flowchart-CategoricalSimilaritySpace-10" class="node default"><rect height="54" width="254.40625" y="-27" x="-127.203125" style="" class="basic label-container"></rect><g transform="translate(-97.203125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="194.40625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CategoricalSimilaritySpace</p></span></div></foreignObject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h3 id="index-components" class="group" data-header="true">Index Components<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>

























<table><thead><tr><th>Component</th><th>Purpose</th><th>Implementation</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">Index._spaces</code></td><td>Stores constituent spaces</td><td>Internal space collection</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">Index._schemas</code></td><td>Manages schema objects</td><td>Schema validation and access</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">Index.has_schema()</code></td><td>Validates schema compatibility</td><td>Used by <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryDescriptorValidator</code></td></tr></tbody></table>
<p>Sources: <a href="https://github.com/superlinked/superlinked/blob/6803226c/framework/src/framework/dsl/query/query_descriptor.py#L125-L131" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>framework/src/framework/dsl/query/query_descriptor.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">125-131</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/framework/src/framework/dsl/query/query_descriptor.py#L574-L576" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>framework/src/framework/dsl/query/query_descriptor.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">574-576</span></a></p>
<h2 id="query-building-and-parameter-system" class="group" data-header="true">Query Building and Parameter System<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryDescriptor</code> class provides a fluent API for building complex search operations with dynamic parameters. Queries are constructed through method chaining, where each method adds a specific <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryClause</code> to the descriptor.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«r7»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 2489.78125 660" style="max-width: 2489.78px; touch-action: none; user-select: none; cursor: grab;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-tsjqo13ijr" preserveAspectRatio="xMidYMid meet"><style>#mermaid-tsjqo13ijr{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-tsjqo13ijr .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-tsjqo13ijr .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-tsjqo13ijr .error-icon{fill:#dddddd;}#mermaid-tsjqo13ijr .error-text{fill:#222222;stroke:#222222;}#mermaid-tsjqo13ijr .edge-thickness-normal{stroke-width:1px;}#mermaid-tsjqo13ijr .edge-thickness-thick{stroke-width:3.5px;}#mermaid-tsjqo13ijr .edge-pattern-solid{stroke-dasharray:0;}#mermaid-tsjqo13ijr .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-tsjqo13ijr .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-tsjqo13ijr .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-tsjqo13ijr .marker{fill:#999;stroke:#999;}#mermaid-tsjqo13ijr .marker.cross{stroke:#999;}#mermaid-tsjqo13ijr svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-tsjqo13ijr p{margin:0;}#mermaid-tsjqo13ijr .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-tsjqo13ijr .cluster-label text{fill:#444;}#mermaid-tsjqo13ijr .cluster-label span{color:#444;}#mermaid-tsjqo13ijr .cluster-label span p{background-color:transparent;}#mermaid-tsjqo13ijr .label text,#mermaid-tsjqo13ijr span{fill:#333;color:#333;}#mermaid-tsjqo13ijr .node rect,#mermaid-tsjqo13ijr .node circle,#mermaid-tsjqo13ijr .node ellipse,#mermaid-tsjqo13ijr .node polygon,#mermaid-tsjqo13ijr .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-tsjqo13ijr .rough-node .label text,#mermaid-tsjqo13ijr .node .label text,#mermaid-tsjqo13ijr .image-shape .label,#mermaid-tsjqo13ijr .icon-shape .label{text-anchor:middle;}#mermaid-tsjqo13ijr .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-tsjqo13ijr .rough-node .label,#mermaid-tsjqo13ijr .node .label,#mermaid-tsjqo13ijr .image-shape .label,#mermaid-tsjqo13ijr .icon-shape .label{text-align:center;}#mermaid-tsjqo13ijr .node.clickable{cursor:pointer;}#mermaid-tsjqo13ijr .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-tsjqo13ijr .arrowheadPath{fill:#0b0b0b;}#mermaid-tsjqo13ijr .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-tsjqo13ijr .flowchart-link{stroke:#999;fill:none;}#mermaid-tsjqo13ijr .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-tsjqo13ijr .edgeLabel p{background-color:#ffffff;}#mermaid-tsjqo13ijr .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-tsjqo13ijr .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-tsjqo13ijr .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-tsjqo13ijr .cluster text{fill:#444;}#mermaid-tsjqo13ijr .cluster span{color:#444;}#mermaid-tsjqo13ijr div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-tsjqo13ijr .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-tsjqo13ijr rect.text{fill:none;stroke-width:0;}#mermaid-tsjqo13ijr .icon-shape,#mermaid-tsjqo13ijr .image-shape{background-color:#ffffff;text-align:center;}#mermaid-tsjqo13ijr .icon-shape p,#mermaid-tsjqo13ijr .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-tsjqo13ijr .icon-shape rect,#mermaid-tsjqo13ijr .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-tsjqo13ijr :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-tsjqo13ijr_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-tsjqo13ijr_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-tsjqo13ijr_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-tsjqo13ijr_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-tsjqo13ijr_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-tsjqo13ijr_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph3" class="cluster"><rect height="104" width="1672.578125" y="315" x="40.8359375" style=""></rect><g transform="translate(777.125, 315)" class="cluster-label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Generated QueryClause Objects</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph2" class="cluster"><rect height="128" width="1092.90625" y="137" x="984.875" style=""></rect><g transform="translate(1457.9296875, 137)" class="cluster-label"><foreignObject height="24" width="146.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Query Configuration</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph1" class="cluster"><rect height="128" width="956.875" y="137" x="8" style=""></rect><g transform="translate(400.4609375, 137)" class="cluster-label"><foreignObject height="24" width="171.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Primary Query Methods</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="644" width="384" y="8" x="2097.78125" style=""></rect><g transform="translate(2199.9453125, 8)" class="cluster-label"><foreignObject height="24" width="179.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Query Construction Flow</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-tsjqo13ijr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryInit_FindMethod_0" d="M2325.836,87L2325.836,91.167C2325.836,95.333,2325.836,103.667,2325.836,112C2325.836,120.333,2325.836,128.667,2325.836,138.333C2325.836,148,2325.836,159,2325.836,164.5L2325.836,170"></path><path marker-end="url(#mermaid-tsjqo13ijr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FindMethod_QueryDescriptor_0" d="M2325.836,228L2325.836,234.167C2325.836,240.333,2325.836,252.667,2325.836,263C2325.836,273.333,2325.836,281.667,2325.836,290C2325.836,298.333,2325.836,306.667,2323.327,314.452C2320.818,322.238,2315.799,329.475,2313.29,333.094L2310.781,336.713"></path><path marker-end="url(#mermaid-tsjqo13ijr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryDescriptor_AppendClauses_0" d="M2289.781,394L2289.781,398.167C2289.781,402.333,2289.781,410.667,2289.781,419C2289.781,427.333,2289.781,435.667,2289.781,443.333C2289.781,451,2289.781,458,2289.781,461.5L2289.781,465"></path><path marker-end="url(#mermaid-tsjqo13ijr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_AppendClauses_ValidationCheck_0" d="M2289.781,523L2289.781,527.167C2289.781,531.333,2289.781,539.667,2289.781,547.333C2289.781,555,2289.781,562,2289.781,565.5L2289.781,569"></path><path marker-end="url(#mermaid-tsjqo13ijr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Similar_SimilarFilterClause_0" d="M173,240L173,244.167C173,248.333,173,256.667,173,265C173,273.333,173,281.667,173,290C173,298.333,173,306.667,173,314.333C173,322,173,329,173,332.5L173,336"></path><path marker-end="url(#mermaid-tsjqo13ijr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WithVector_LooksLikeFilterClause_0" d="M483,240L483,244.167C483,248.333,483,256.667,483,265C483,273.333,483,281.667,483,290C483,298.333,483,306.667,483,314.333C483,322,483,329,483,332.5L483,336"></path><path marker-end="url(#mermaid-tsjqo13ijr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Filter_HardFilterClause_0" d="M796.438,228L796.438,234.167C796.438,240.333,796.438,252.667,796.438,263C796.438,273.333,796.438,281.667,796.438,290C796.438,298.333,796.438,306.667,796.438,314.333C796.438,322,796.438,329,796.438,332.5L796.438,336"></path><path marker-end="url(#mermaid-tsjqo13ijr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Select_SelectClause_0" d="M1143.742,228L1143.742,234.167C1143.742,240.333,1143.742,252.667,1143.742,263C1143.742,273.333,1143.742,281.667,1143.742,290C1143.742,298.333,1143.742,306.667,1143.742,314.333C1143.742,322,1143.742,329,1143.742,332.5L1143.742,336"></path><path marker-end="url(#mermaid-tsjqo13ijr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Limit_LimitClause_0" d="M1389.055,228L1389.055,234.167C1389.055,240.333,1389.055,252.667,1389.055,263C1389.055,273.333,1389.055,281.667,1389.055,290C1389.055,298.333,1389.055,306.667,1389.055,314.333C1389.055,322,1389.055,329,1389.055,332.5L1389.055,336"></path><path marker-end="url(#mermaid-tsjqo13ijr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Radius_RadiusClause_0" d="M1599.313,228L1599.313,234.167C1599.313,240.333,1599.313,252.667,1599.313,263C1599.313,273.333,1599.313,281.667,1599.313,290C1599.313,298.333,1599.313,306.667,1599.313,314.333C1599.313,322,1599.313,329,1599.313,332.5L1599.313,336"></path><path marker-end="url(#mermaid-tsjqo13ijr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SpaceWeights_QueryDescriptor_0" d="M1890.453,228L1890.453,234.167C1890.453,240.333,1890.453,252.667,1942.674,263C1994.896,273.333,2099.339,281.667,2151.56,290C2203.781,298.333,2203.781,306.667,2210.102,314.655C2216.422,322.643,2229.063,330.287,2235.384,334.109L2241.704,337.93"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(2325.8359375, 60)" id="flowchart-QueryInit-0" class="node default"><rect height="54" width="169.78125" y="-27" x="-84.890625" style="" class="basic label-container"></rect><g transform="translate(-54.890625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="109.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.Query(index)</p></span></div></foreignObject></g></g><g transform="translate(2325.8359375, 201)" id="flowchart-FindMethod-1" class="node default"><rect height="54" width="156.015625" y="-27" x="-78.0078125" style="" class="basic label-container"></rect><g transform="translate(-48.0078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>find(schema)</p></span></div></foreignObject></g></g><g transform="translate(2289.78125, 367)" id="flowchart-QueryDescriptor-2" class="node default"><rect height="54" width="180.140625" y="-27" x="-90.0703125" style="" class="basic label-container"></rect><g transform="translate(-60.0703125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="120.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QueryDescriptor</p></span></div></foreignObject></g></g><g transform="translate(2289.78125, 496)" id="flowchart-AppendClauses-3" class="node default"><rect height="54" width="207.078125" y="-27" x="-103.5390625" style="" class="basic label-container"></rect><g transform="translate(-73.5390625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="147.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>__append_clauses()</p></span></div></foreignObject></g></g><g transform="translate(2289.78125, 600)" id="flowchart-ValidationCheck-4" class="node default"><rect height="54" width="314" y="-27" x="-157" style="" class="basic label-container"></rect><g transform="translate(-127, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="254"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QueryDescriptorValidator.validate()</p></span></div></foreignObject></g></g><g transform="translate(173, 201)" id="flowchart-Similar-5" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>similar(space, param, weight=1.0)</p></span></div></foreignObject></g></g><g transform="translate(483, 201)" id="flowchart-WithVector-6" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>with_vector(schema, id_param, weight=1.0)</p></span></div></foreignObject></g></g><g transform="translate(796.4375, 201)" id="flowchart-Filter-7" class="node default"><rect height="54" width="266.875" y="-27" x="-133.4375" style="" class="basic label-container"></rect><g transform="translate(-103.4375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="206.875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>filter(comparison_operation)</p></span></div></foreignObject></g></g><g transform="translate(1143.7421875, 201)" id="flowchart-Select-8" class="node default"><rect height="54" width="247.734375" y="-27" x="-123.8671875" style="" class="basic label-container"></rect><g transform="translate(-93.8671875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="187.734375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>select(fields) / select_all()</p></span></div></foreignObject></g></g><g transform="translate(1389.0546875, 201)" id="flowchart-Limit-9" class="node default"><rect height="54" width="142.890625" y="-27" x="-71.4453125" style="" class="basic label-container"></rect><g transform="translate(-41.4453125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="82.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>limit(count)</p></span></div></foreignObject></g></g><g transform="translate(1599.3125, 201)" id="flowchart-Radius-10" class="node default"><rect height="54" width="177.625" y="-27" x="-88.8125" style="" class="basic label-container"></rect><g transform="translate(-58.8125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="117.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>radius(distance)</p></span></div></foreignObject></g></g><g transform="translate(1890.453125, 201)" id="flowchart-SpaceWeights-11" class="node default"><rect height="54" width="304.65625" y="-27" x="-152.328125" style="" class="basic label-container"></rect><g transform="translate(-122.328125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="244.65625"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>space_weights(weight_by_space)</p></span></div></foreignObject></g></g><g transform="translate(173, 367)" id="flowchart-SimilarFilterClause-12" class="node default"><rect height="54" width="194.328125" y="-27" x="-97.1640625" style="" class="basic label-container"></rect><g transform="translate(-67.1640625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="134.328125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SimilarFilterClause</p></span></div></foreignObject></g></g><g transform="translate(483, 367)" id="flowchart-LooksLikeFilterClause-13" class="node default"><rect height="54" width="217.53125" y="-27" x="-108.765625" style="" class="basic label-container"></rect><g transform="translate(-78.765625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="157.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LooksLikeFilterClause</p></span></div></foreignObject></g></g><g transform="translate(796.4375, 367)" id="flowchart-HardFilterClause-14" class="node default"><rect height="54" width="180.65625" y="-27" x="-90.328125" style="" class="basic label-container"></rect><g transform="translate(-60.328125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="120.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>HardFilterClause</p></span></div></foreignObject></g></g><g transform="translate(1143.7421875, 367)" id="flowchart-SelectClause-15" class="node default"><rect height="54" width="154.875" y="-27" x="-77.4375" style="" class="basic label-container"></rect><g transform="translate(-47.4375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="94.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SelectClause</p></span></div></foreignObject></g></g><g transform="translate(1389.0546875, 367)" id="flowchart-LimitClause-16" class="node default"><rect height="54" width="144.46875" y="-27" x="-72.234375" style="" class="basic label-container"></rect><g transform="translate(-42.234375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="84.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>LimitClause</p></span></div></foreignObject></g></g><g transform="translate(1599.3125, 367)" id="flowchart-RadiusClause-17" class="node default"><rect height="54" width="158.203125" y="-27" x="-79.1015625" style="" class="basic label-container"></rect><g transform="translate(-49.1015625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="98.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>RadiusClause</p></span></div></foreignObject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h3 id="core-query-methods" class="group" data-header="true">Core Query Methods<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The system provides two primary search methods that can be combined and weighted:</p>























<table><thead><tr><th>Method</th><th>Purpose</th><th>Parameters</th><th>Usage</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">similar()</code></td><td>Search using user-provided input</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">space</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">param</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">weight</code></td><td>Text queries, user inputs</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">with_vector()</code></td><td>Search using stored item vectors</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">schema</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">id_param</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">weight</code></td><td>Item-to-item recommendations</td></tr></tbody></table>
<h4 id="similar-clause-usage" class="group" data-header="true">Similar Clause Usage<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h4>
<p>The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">.similar()</code> method transforms user input into query vectors through the specified space:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;"># From basic_building_blocks.ipynb</span><span>
</span><span>query = sl.Query(paragraph_index).find(paragraph).similar(relevance_space, sl.Param(</span><span style="color: rgb(221, 17, 68);">"query_text"</span><span>)).select_all()
</span>
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;"># From netflix semantic search - weighted similarity</span><span>
</span>movies_query = (
    sl.Query(movie_index, weights={
<span>        description_space: sl.Param(</span><span style="color: rgb(221, 17, 68);">"description_weight"</span><span>),
</span><span>        genre_space: sl.Param(</span><span style="color: rgb(221, 17, 68);">"genre_weight"</span><span>), 
</span><span>        recency_space: sl.Param(</span><span style="color: rgb(221, 17, 68);">"recency_weight"</span><span>)
</span>    })
    .find(movie_schema)
<span>    .similar(description_space, sl.Param(</span><span style="color: rgb(221, 17, 68);">"description_query"</span><span>))
</span><span>    .similar(genre_space, sl.Param(</span><span style="color: rgb(221, 17, 68);">"genre_query"</span><span>))
</span>    .select_all()
<span>    .limit(sl.Param(</span><span style="color: rgb(221, 17, 68);">"limit"</span><span>))
</span>)</code></pre></pre>
<h4 id="with-vector-clause-usage" class="group" data-header="true">With Vector Clause Usage<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h4>
<p>The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">.with_vector()</code> method uses existing item vectors for search:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;"># From e-commerce recommendations</span><span>
</span>user_query = (
    sl.Query(product_index)
    .find(product_schema)
<span>    .with_vector(product_schema, sl.Param(</span><span style="color: rgb(221, 17, 68);">"product_id"</span><span>))
</span>    .select_all()
<span>    .limit(sl.Param(</span><span style="color: rgb(221, 17, 68);">"limit"</span><span>))
</span>)

<span></span><span style="color: rgb(153, 153, 136); font-style: italic;"># Per-space weighting for with_vector</span><span>
</span><span>weight_dict = {text_space: </span><span style="color: rgb(0, 128, 128);">0.8</span><span>, category_space: </span><span style="color: rgb(0, 128, 128);">0.2</span><span>}
</span><span>query = sl.Query(index).find(schema).with_vector(schema, </span><span style="color: rgb(221, 17, 68);">"item_id"</span><span>, weight_dict).select_all()</span></code></pre></pre>
<h3 id="parameter-system" class="group" data-header="true">Parameter System<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">Param</code> class enables dynamic query construction with runtime value binding:</p>






























<table><thead><tr><th>Component</th><th>Purpose</th><th>Implementation</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sl.Param("name")</code></td><td>Parameter placeholder</td><td>Runtime value substitution</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">param.default</code></td><td>Fallback value</td><td>Used when no runtime value provided</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">param.description</code></td><td>NLQ context</td><td>Enables natural language processing</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">param.options</code></td><td>Allowed values</td><td>Constrains parameter inputs</td></tr></tbody></table>
<h3 id="query-clause-implementation" class="group" data-header="true">Query Clause Implementation<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>Each query method generates specific <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryClause</code> objects:</p>















































<table><thead><tr><th>Clause Type</th><th>Generated By</th><th>Key Methods</th><th>Purpose</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">SimilarFilterClause</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">similar()</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">from_param()</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">evaluate()</code></td><td>Vector similarity search</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">LooksLikeFilterClause</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">with_vector()</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">from_param()</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">evaluate()</code></td><td>Item-based search</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">HardFilterClause</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">filter()</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">from_param()</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">evaluate()</code></td><td>Exact field filtering</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">SelectClause</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">select()</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">from_param()</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">evaluate()</code></td><td>Field selection</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">LimitClause</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">limit()</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">from_param()</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">get_value()</code></td><td>Result count limit</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">RadiusClause</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">radius()</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">from_param()</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">get_value()</code></td><td>Distance constraint</td></tr></tbody></table>
<p>Sources: <a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/feature/querying_options.ipynb#L125-L131" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/feature/querying_options.ipynb</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">125-131</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/docs/reference/dsl/query/query_descriptor.md#L181-L198" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>docs/reference/dsl/query/query_descriptor.md</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">181-198</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/docs/reference/dsl/query/query_clause.md#L316-L366" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>docs/reference/dsl/query/query_clause.md</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">316-366</span></a></p>
<h2 id="query-execution-and-parameter-processing" class="group" data-header="true">Query Execution and Parameter Processing<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>Query execution involves parameter resolution through the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryParamValueSetter</code> class, which handles parameter binding, NLQ processing, and clause evaluation.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«ra»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 3097.890625 848" style="max-width: 3097.89px; touch-action: none; user-select: none; cursor: grab;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-co15h3dhk05" preserveAspectRatio="xMidYMid meet"><style>#mermaid-co15h3dhk05{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-co15h3dhk05 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-co15h3dhk05 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-co15h3dhk05 .error-icon{fill:#dddddd;}#mermaid-co15h3dhk05 .error-text{fill:#222222;stroke:#222222;}#mermaid-co15h3dhk05 .edge-thickness-normal{stroke-width:1px;}#mermaid-co15h3dhk05 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-co15h3dhk05 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-co15h3dhk05 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-co15h3dhk05 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-co15h3dhk05 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-co15h3dhk05 .marker{fill:#999;stroke:#999;}#mermaid-co15h3dhk05 .marker.cross{stroke:#999;}#mermaid-co15h3dhk05 svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-co15h3dhk05 p{margin:0;}#mermaid-co15h3dhk05 .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-co15h3dhk05 .cluster-label text{fill:#444;}#mermaid-co15h3dhk05 .cluster-label span{color:#444;}#mermaid-co15h3dhk05 .cluster-label span p{background-color:transparent;}#mermaid-co15h3dhk05 .label text,#mermaid-co15h3dhk05 span{fill:#333;color:#333;}#mermaid-co15h3dhk05 .node rect,#mermaid-co15h3dhk05 .node circle,#mermaid-co15h3dhk05 .node ellipse,#mermaid-co15h3dhk05 .node polygon,#mermaid-co15h3dhk05 .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-co15h3dhk05 .rough-node .label text,#mermaid-co15h3dhk05 .node .label text,#mermaid-co15h3dhk05 .image-shape .label,#mermaid-co15h3dhk05 .icon-shape .label{text-anchor:middle;}#mermaid-co15h3dhk05 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-co15h3dhk05 .rough-node .label,#mermaid-co15h3dhk05 .node .label,#mermaid-co15h3dhk05 .image-shape .label,#mermaid-co15h3dhk05 .icon-shape .label{text-align:center;}#mermaid-co15h3dhk05 .node.clickable{cursor:pointer;}#mermaid-co15h3dhk05 .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-co15h3dhk05 .arrowheadPath{fill:#0b0b0b;}#mermaid-co15h3dhk05 .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-co15h3dhk05 .flowchart-link{stroke:#999;fill:none;}#mermaid-co15h3dhk05 .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-co15h3dhk05 .edgeLabel p{background-color:#ffffff;}#mermaid-co15h3dhk05 .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-co15h3dhk05 .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-co15h3dhk05 .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-co15h3dhk05 .cluster text{fill:#444;}#mermaid-co15h3dhk05 .cluster span{color:#444;}#mermaid-co15h3dhk05 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-co15h3dhk05 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-co15h3dhk05 rect.text{fill:none;stroke-width:0;}#mermaid-co15h3dhk05 .icon-shape,#mermaid-co15h3dhk05 .image-shape{background-color:#ffffff;text-align:center;}#mermaid-co15h3dhk05 .icon-shape p,#mermaid-co15h3dhk05 .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-co15h3dhk05 .icon-shape rect,#mermaid-co15h3dhk05 .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-co15h3dhk05 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-co15h3dhk05_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-co15h3dhk05_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-co15h3dhk05_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-co15h3dhk05_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-co15h3dhk05_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-co15h3dhk05_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph3" class="cluster"><rect height="124" width="1064.296875" y="572" x="1747.09375" style=""></rect><g transform="translate(2227.140625, 572)" class="cluster-label"><foreignObject height="24" width="104.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Default Values</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph2" class="cluster"><rect height="124" width="1342.796875" y="716" x="1747.09375" style=""></rect><g transform="translate(2360.40625, 716)" class="cluster-label"><foreignObject height="24" width="116.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NLQ Processing</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="236" width="1689.09375" y="583" x="8" style=""></rect><g transform="translate(752.546875, 583)" class="cluster-label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Parameter Resolution Pipeline</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryDescriptor_QueryParamValueSetter_0" d="M288.07,706L304.725,706C321.38,706,354.69,706,374.845,706C395,706,402,706,405.5,706L409,706"></path><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryParamValueSetter_AppendMandatory_0" d="M739.016,706L743.182,706C747.349,706,755.682,706,763.349,706C771.016,706,778.016,706,781.516,706L785.016,706"></path><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_AppendMandatory_ValidateParams_0" d="M1129.344,706L1133.51,706C1137.677,706,1146.01,706,1153.677,706C1161.344,706,1168.344,706,1171.844,706L1175.344,706"></path><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ValidateParams_AlterQueryDescriptor_0" d="M1369.922,706L1374.089,706C1378.255,706,1386.589,706,1394.255,706C1401.922,706,1408.922,706,1412.422,706L1415.922,706"></path><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_AlterQueryDescriptor_NLQClauseParams_0" d="M1602.665,733L1618.403,740.5C1634.141,748,1665.618,763,1685.522,770.5C1705.427,778,1713.76,778,1722.094,778C1730.427,778,1738.76,778,1753.098,778C1767.435,778,1787.776,778,1797.947,778L1808.117,778"></path><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NLQClauseParams_NLQHandler_0" d="M2007.352,778L2018.189,778C2029.026,778,2050.701,778,2085.212,778C2119.724,778,2167.073,778,2190.747,778L2214.422,778"></path><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NLQHandler_CalculateNLQParams_0" d="M2367.281,778L2391.622,778C2415.964,778,2464.646,778,2492.487,778C2520.328,778,2527.328,778,2530.828,778L2534.328,778"></path><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CalculateNLQParams_OpenAIClientConfig_0" d="M2786.391,778L2790.557,778C2794.724,778,2803.057,778,2811.391,778C2819.724,778,2828.057,778,2835.724,778C2843.391,778,2850.391,778,2853.891,778L2857.391,778"></path><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_AlterQueryDescriptor_CalculateDefaults_0" d="M1602.665,679L1618.403,671.5C1634.141,664,1665.618,649,1685.522,641.5C1705.427,634,1713.76,634,1722.094,634C1730.427,634,1738.76,634,1746.427,634C1754.094,634,1761.094,634,1764.594,634L1768.094,634"></path><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CalculateDefaults_SpaceWeights_0" d="M2047.375,634L2051.542,634C2055.708,634,2064.042,634,2071.708,634C2079.375,634,2086.375,634,2089.875,634L2093.375,634"></path><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SpaceWeights_DefaultWeight_0" d="M2488.328,634L2492.495,634C2496.661,634,2504.995,634,2517.016,634C2529.036,634,2544.745,634,2552.599,634L2560.453,634"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(25, 0)" class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="540" width="330" y="8" x="8" style=""></rect><g transform="translate(93.4765625, 8)" class="cluster-label"><foreignObject height="24" width="159.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Parameter Processing</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ParamValues_TypedParam_0" d="M173,123.5L173,129.75C173,136,173,148.5,173,160.333C173,172.167,173,183.333,173,188.917L173,194.5"></path><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_TypedParam_Evaluated_0" d="M173,252.5L173,258.75C173,265,173,277.5,173,289.333C173,301.167,173,312.333,173,317.917L173,323.5"></path><path marker-end="url(#mermaid-co15h3dhk05_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Evaluated_AlterParamValues_0" d="M173,381.5L173,387.75C173,394,173,406.5,173,418.333C173,430.167,173,441.333,173,446.917L173,452.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(173, 84.5)" id="flowchart-ParamValues-5" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>params: Mapping[str, ParamInputType]</p></span></div></foreignObject></g></g><g transform="translate(173, 225.5)" id="flowchart-TypedParam-6" class="node default"><rect height="54" width="150.953125" y="-27" x="-75.4765625" style="" class="basic label-container"></rect><g transform="translate(-45.4765625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="90.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>TypedParam</p></span></div></foreignObject></g></g><g transform="translate(173, 354.5)" id="flowchart-Evaluated-7" class="node default"><rect height="54" width="233.328125" y="-27" x="-116.6640625" style="" class="basic label-container"></rect><g transform="translate(-86.6640625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="173.328125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Evaluated[TypedParam]</p></span></div></foreignObject></g></g><g transform="translate(173, 483.5)" id="flowchart-AlterParamValues-8" class="node default"><rect height="54" width="213.65625" y="-27" x="-106.828125" style="" class="basic label-container"></rect><g transform="translate(-76.828125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="153.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>alter_param_values()</p></span></div></foreignObject></g></g></g></g><g transform="translate(198, 706)" id="flowchart-QueryDescriptor-0" class="node default"><rect height="54" width="180.140625" y="-27" x="-90.0703125" style="" class="basic label-container"></rect><g transform="translate(-60.0703125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="120.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QueryDescriptor</p></span></div></foreignObject></g></g><g transform="translate(576.0078125, 706)" id="flowchart-QueryParamValueSetter-1" class="node default"><rect height="54" width="326.015625" y="-27" x="-163.0078125" style="" class="basic label-container"></rect><g transform="translate(-133.0078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="266.015625"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QueryParamValueSetter.set_values()</p></span></div></foreignObject></g></g><g transform="translate(959.1796875, 706)" id="flowchart-AppendMandatory-2" class="node default"><rect height="54" width="340.328125" y="-27" x="-170.1640625" style="" class="basic label-container"></rect><g transform="translate(-140.1640625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="280.328125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>append_missing_mandatory_clauses()</p></span></div></foreignObject></g></g><g transform="translate(1274.6328125, 706)" id="flowchart-ValidateParams-3" class="node default"><rect height="54" width="190.578125" y="-27" x="-95.2890625" style="" class="basic label-container"></rect><g transform="translate(-65.2890625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="130.578125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>validate_params()</p></span></div></foreignObject></g></g><g transform="translate(1546.0078125, 706)" id="flowchart-AlterQueryDescriptor-4" class="node default"><rect height="54" width="252.171875" y="-27" x="-126.0859375" style="" class="basic label-container"></rect><g transform="translate(-96.0859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="192.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>__alter_query_descriptor()</p></span></div></foreignObject></g></g><g transform="translate(1909.734375, 778)" id="flowchart-NLQClauseParams-9" class="node default"><rect height="54" width="195.234375" y="-27" x="-97.6171875" style="" class="basic label-container"></rect><g transform="translate(-67.6171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="135.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NLQClauseParams</p></span></div></foreignObject></g></g><g transform="translate(2292.8515625, 778)" id="flowchart-NLQHandler-10" class="node default"><rect height="54" width="148.859375" y="-27" x="-74.4296875" style="" class="basic label-container"></rect><g transform="translate(-44.4296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="88.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NLQHandler</p></span></div></foreignObject></g></g><g transform="translate(2662.359375, 778)" id="flowchart-CalculateNLQParams-11" class="node default"><rect height="54" width="248.0625" y="-27" x="-124.03125" style="" class="basic label-container"></rect><g transform="translate(-94.03125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="188.0625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>__calculate_nlq_params()</p></span></div></foreignObject></g></g><g transform="translate(2963.140625, 778)" id="flowchart-OpenAIClientConfig-12" class="node default"><rect height="54" width="203.5" y="-27" x="-101.75" style="" class="basic label-container"></rect><g transform="translate(-71.75, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="143.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>OpenAIClientConfig</p></span></div></foreignObject></g></g><g transform="translate(1909.734375, 634)" id="flowchart-CalculateDefaults-13" class="node default"><rect height="54" width="275.28125" y="-27" x="-137.640625" style="" class="basic label-container"></rect><g transform="translate(-107.640625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="215.28125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>__calculate_default_params()</p></span></div></foreignObject></g></g><g transform="translate(2292.8515625, 634)" id="flowchart-SpaceWeights-14" class="node default"><rect height="54" width="390.953125" y="-27" x="-195.4765625" style="" class="basic label-container"></rect><g transform="translate(-165.4765625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="330.953125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>get_param_value_for_unset_space_weights()</p></span></div></foreignObject></g></g><g transform="translate(2662.359375, 634)" id="flowchart-DefaultWeight-15" class="node default"><rect height="54" width="195.8125" y="-27" x="-97.90625" style="" class="basic label-container"></rect><g transform="translate(-67.90625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="135.8125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>DEFAULT_WEIGHT</p></span></div></foreignObject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h3 id="parameter-resolution-process" class="group" data-header="true">Parameter Resolution Process<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryParamValueSetter</code> coordinates the complete parameter resolution pipeline:</p>



































<table><thead><tr><th>Stage</th><th>Purpose</th><th>Implementation</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">append_missing_mandatory_clauses()</code></td><td>Adds required clauses</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">LimitClause</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">RadiusClause</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">SelectClause</code></td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">validate_params()</code></td><td>Validates parameter names</td><td>Checks against clause parameters</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">__alter_query_descriptor()</code></td><td>Applies parameter values</td><td>Updates clause parameters</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">__calculate_nlq_params()</code></td><td>Processes NLQ parameters</td><td>Calls <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">NLQHandler.fill_params()</code></td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">__calculate_default_params()</code></td><td>Sets default values</td><td>Uses <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">Param.default</code> values</td></tr></tbody></table>
<h3 id="clause-evaluation" class="group" data-header="true">Clause Evaluation<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>Each <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryClause</code> implements parameter evaluation through key methods:</p>

























<table><thead><tr><th>Method</th><th>Purpose</th><th>Return Type</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">evaluate()</code></td><td>Converts clause to executable form</td><td>Clause-specific type</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">alter_param_values()</code></td><td>Updates parameter values</td><td>Modified clause instance</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">get_param_value_by_param_name()</code></td><td>Retrieves parameter values</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">dict[str, PythonTypes]</code></td></tr></tbody></table>
<p>Sources: <a href="https://github.com/superlinked/superlinked/blob/6803226c/framework/src/framework/dsl/query/query_param_value_setter.py#L32-L91" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>framework/src/framework/dsl/query/query_param_value_setter.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">32-91</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/framework/src/framework/dsl/query/query_descriptor.py#L479-L520" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>framework/src/framework/dsl/query/query_descriptor.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">479-520</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/framework/src/framework/dsl/query/query_clause.py#L102-L149" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>framework/src/framework/dsl/query/query_clause.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">102-149</span></a></p>
<h2 id="advanced-query-features" class="group" data-header="true">Advanced Query Features<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<h3 id="natural-language-query-processing" class="group" data-header="true">Natural Language Query Processing<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The system supports natural language query processing through the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">NLQClause</code> and <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">NLQHandler</code> classes, which integrate with OpenAI for automated parameter extraction from natural language queries.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«rd»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1484.4375 854" style="max-width: 1484.44px; touch-action: none; user-select: none; cursor: grab;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-03gi5utmvi4u" preserveAspectRatio="xMidYMid meet"><style>#mermaid-03gi5utmvi4u{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-03gi5utmvi4u .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-03gi5utmvi4u .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-03gi5utmvi4u .error-icon{fill:#dddddd;}#mermaid-03gi5utmvi4u .error-text{fill:#222222;stroke:#222222;}#mermaid-03gi5utmvi4u .edge-thickness-normal{stroke-width:1px;}#mermaid-03gi5utmvi4u .edge-thickness-thick{stroke-width:3.5px;}#mermaid-03gi5utmvi4u .edge-pattern-solid{stroke-dasharray:0;}#mermaid-03gi5utmvi4u .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-03gi5utmvi4u .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-03gi5utmvi4u .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-03gi5utmvi4u .marker{fill:#999;stroke:#999;}#mermaid-03gi5utmvi4u .marker.cross{stroke:#999;}#mermaid-03gi5utmvi4u svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-03gi5utmvi4u p{margin:0;}#mermaid-03gi5utmvi4u .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-03gi5utmvi4u .cluster-label text{fill:#444;}#mermaid-03gi5utmvi4u .cluster-label span{color:#444;}#mermaid-03gi5utmvi4u .cluster-label span p{background-color:transparent;}#mermaid-03gi5utmvi4u .label text,#mermaid-03gi5utmvi4u span{fill:#333;color:#333;}#mermaid-03gi5utmvi4u .node rect,#mermaid-03gi5utmvi4u .node circle,#mermaid-03gi5utmvi4u .node ellipse,#mermaid-03gi5utmvi4u .node polygon,#mermaid-03gi5utmvi4u .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-03gi5utmvi4u .rough-node .label text,#mermaid-03gi5utmvi4u .node .label text,#mermaid-03gi5utmvi4u .image-shape .label,#mermaid-03gi5utmvi4u .icon-shape .label{text-anchor:middle;}#mermaid-03gi5utmvi4u .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-03gi5utmvi4u .rough-node .label,#mermaid-03gi5utmvi4u .node .label,#mermaid-03gi5utmvi4u .image-shape .label,#mermaid-03gi5utmvi4u .icon-shape .label{text-align:center;}#mermaid-03gi5utmvi4u .node.clickable{cursor:pointer;}#mermaid-03gi5utmvi4u .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-03gi5utmvi4u .arrowheadPath{fill:#0b0b0b;}#mermaid-03gi5utmvi4u .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-03gi5utmvi4u .flowchart-link{stroke:#999;fill:none;}#mermaid-03gi5utmvi4u .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-03gi5utmvi4u .edgeLabel p{background-color:#ffffff;}#mermaid-03gi5utmvi4u .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-03gi5utmvi4u .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-03gi5utmvi4u .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-03gi5utmvi4u .cluster text{fill:#444;}#mermaid-03gi5utmvi4u .cluster span{color:#444;}#mermaid-03gi5utmvi4u div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-03gi5utmvi4u .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-03gi5utmvi4u rect.text{fill:none;stroke-width:0;}#mermaid-03gi5utmvi4u .icon-shape,#mermaid-03gi5utmvi4u .image-shape{background-color:#ffffff;text-align:center;}#mermaid-03gi5utmvi4u .icon-shape p,#mermaid-03gi5utmvi4u .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-03gi5utmvi4u .icon-shape rect,#mermaid-03gi5utmvi4u .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-03gi5utmvi4u :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-03gi5utmvi4u_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-03gi5utmvi4u_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-03gi5utmvi4u_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-03gi5utmvi4u_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-03gi5utmvi4u_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-03gi5utmvi4u_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph2" class="cluster"><rect height="332" width="288.96875" y="8" x="1187.46875" style=""></rect><g transform="translate(1255.8671875, 8)" class="cluster-label"><foreignObject height="24" width="152.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Parameter Extraction</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph1" class="cluster"><rect height="238" width="884.1875" y="360" x="592.25" style=""></rect><g transform="translate(987.8203125, 360)" class="cluster-label"><foreignObject height="24" width="93.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NLQ Handler</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="228" width="837.75" y="618" x="8" style=""></rect><g transform="translate(338.1953125, 618)" class="cluster-label"><foreignObject height="24" width="177.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NLQ Processing Pipeline</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-03gi5utmvi4u_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WithNaturalQuery_NLQClause_0" d="M206.343,705L216.804,700.833C227.265,696.667,248.187,688.333,271.06,684.167C293.932,680,318.755,680,331.167,680L343.578,680"></path><path marker-end="url(#mermaid-03gi5utmvi4u_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_WithNaturalQuery_NLQSystemPromptClause_0" d="M206.343,759L216.804,763.167C227.265,767.333,248.187,775.667,262.148,779.833C276.109,784,283.109,784,286.609,784L290.109,784"></path><path marker-end="url(#mermaid-03gi5utmvi4u_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NLQClause_OpenAIClientConfig_0" d="M488.781,704.628L501.859,709.19C514.938,713.752,541.094,722.876,558.339,727.438C575.583,732,583.917,732,591.583,732C599.25,732,606.25,732,609.75,732L613.25,732"></path><path marker-end="url(#mermaid-03gi5utmvi4u_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NLQClause_NLQHandler_0" d="M488.781,670.054L501.859,668.212C514.938,666.369,541.094,662.685,558.339,660.842C575.583,659,583.917,659,605.748,633.217C627.58,607.433,662.91,555.867,680.575,530.083L698.241,504.3"></path><path marker-end="url(#mermaid-03gi5utmvi4u_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NLQHandler_FillParams_0" d="M784.813,447L794.969,442.833C805.125,438.667,825.438,430.333,839.76,426.167C854.083,422,862.417,422,877.618,422C892.82,422,914.891,422,925.926,422L936.961,422"></path><path marker-end="url(#mermaid-03gi5utmvi4u_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NLQHandler_SuggestImprovements_0" d="M784.813,501L794.969,505.167C805.125,509.333,825.438,517.667,839.76,521.833C854.083,526,862.417,526,870.083,526C877.75,526,884.75,526,888.25,526L891.75,526"></path><path marker-end="url(#mermaid-03gi5utmvi4u_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SuggestImprovements_NLQSuggestions_0" d="M1137.469,534.286L1141.635,534.572C1145.802,534.857,1154.135,535.429,1162.469,535.714C1170.802,536,1179.135,536,1190.777,536C1202.419,536,1217.37,536,1224.845,536L1232.32,536"></path><path marker-end="url(#mermaid-03gi5utmvi4u_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FillParams_NLQClauseParams_0" d="M1092.258,411.109L1103.96,409.424C1115.661,407.739,1139.065,404.37,1154.934,402.685C1170.802,401,1179.135,401,1205.152,350.944C1231.168,300.889,1274.868,200.777,1296.717,150.722L1318.567,100.666"></path><path marker-end="url(#mermaid-03gi5utmvi4u_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_FillParams_SpaceWeightParamInfo_0" d="M1092.258,443.783L1103.96,447.152C1115.661,450.522,1139.065,457.261,1154.934,460.63C1170.802,464,1179.135,464,1204.844,420.763C1230.552,377.527,1273.634,291.054,1295.176,247.817L1316.717,204.58"></path><path marker-end="url(#mermaid-03gi5utmvi4u_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SuggestImprovements_QuerySuggestionsModel_0" d="M1110.376,499L1119.058,496.5C1127.74,494,1145.105,489,1157.953,486.5C1170.802,484,1179.135,484,1203.844,454.712C1228.552,425.425,1269.636,366.85,1290.177,337.562L1310.719,308.275"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(138.5546875, 732)" id="flowchart-WithNaturalQuery-0" class="node default"><rect height="54" width="211.109375" y="-27" x="-105.5546875" style="" class="basic label-container"></rect><g transform="translate(-75.5546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="151.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>with_natural_query()</p></span></div></foreignObject></g></g><g transform="translate(418.1796875, 680)" id="flowchart-NLQClause-1" class="node default"><rect height="54" width="141.203125" y="-27" x="-70.6015625" style="" class="basic label-container"></rect><g transform="translate(-40.6015625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="81.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NLQClause</p></span></div></foreignObject></g></g><g transform="translate(418.1796875, 784)" id="flowchart-NLQSystemPromptClause-2" class="node default"><rect height="54" width="248.140625" y="-27" x="-124.0703125" style="" class="basic label-container"></rect><g transform="translate(-94.0703125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="188.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NLQSystemPromptClause</p></span></div></foreignObject></g></g><g transform="translate(719, 732)" id="flowchart-OpenAIClientConfig-3" class="node default"><rect height="54" width="203.5" y="-27" x="-101.75" style="" class="basic label-container"></rect><g transform="translate(-71.75, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="143.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>OpenAIClientConfig</p></span></div></foreignObject></g></g><g transform="translate(719, 474)" id="flowchart-NLQHandler-4" class="node default"><rect height="54" width="148.859375" y="-27" x="-74.4296875" style="" class="basic label-container"></rect><g transform="translate(-44.4296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="88.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NLQHandler</p></span></div></foreignObject></g></g><g transform="translate(1016.609375, 422)" id="flowchart-FillParams-5" class="node default"><rect height="54" width="151.296875" y="-27" x="-75.6484375" style="" class="basic label-container"></rect><g transform="translate(-45.6484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="91.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>fill_params()</p></span></div></foreignObject></g></g><g transform="translate(1016.609375, 526)" id="flowchart-SuggestImprovements-6" class="node default"><rect height="54" width="241.71875" y="-27" x="-120.859375" style="" class="basic label-container"></rect><g transform="translate(-90.859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="181.71875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>suggest_improvements()</p></span></div></foreignObject></g></g><g transform="translate(1331.953125, 536)" id="flowchart-NLQSuggestions-7" class="node default"><rect height="54" width="191.265625" y="-27" x="-95.6328125" style="" class="basic label-container"></rect><g transform="translate(-65.6328125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="131.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>nlq_suggestions()</p></span></div></foreignObject></g></g><g transform="translate(1331.953125, 70)" id="flowchart-NLQClauseParams-8" class="node default"><rect height="54" width="195.234375" y="-27" x="-97.6171875" style="" class="basic label-container"></rect><g transform="translate(-67.6171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="135.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NLQClauseParams</p></span></div></foreignObject></g></g><g transform="translate(1331.953125, 174)" id="flowchart-SpaceWeightParamInfo-9" class="node default"><rect height="54" width="228.65625" y="-27" x="-114.328125" style="" class="basic label-container"></rect><g transform="translate(-84.328125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="168.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SpaceWeightParamInfo</p></span></div></foreignObject></g></g><g transform="translate(1331.953125, 278)" id="flowchart-QuerySuggestionsModel-10" class="node default"><rect height="54" width="238.96875" y="-27" x="-119.484375" style="" class="basic label-container"></rect><g transform="translate(-89.484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="178.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QuerySuggestionsModel</p></span></div></foreignObject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h3 id="hard-filtering-and-comparison-operations" class="group" data-header="true">Hard Filtering and Comparison Operations<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The query system implements hard filtering through <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">HardFilterClause</code> with comprehensive comparison operation support:</p>



































<table><thead><tr><th>Operation Type</th><th>Implementation</th><th>Usage Example</th></tr></thead><tbody><tr><td>Equality</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ComparisonOperation.EQUAL</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">schema.field == "value"</code></td></tr><tr><td>Inequality</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ComparisonOperation.NOT_EQUAL</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">schema.field != "value"</code></td></tr><tr><td>Numeric comparison</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ComparisonOperation.GREATER_THAN</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">schema.price &gt; 100</code></td></tr><tr><td>List operations</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ComparisonOperation.CONTAINS</code></td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">schema.categories.contains(["tag"])</code></td></tr><tr><td>Combined filters</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">_Or[SchemaField]</code></td><td>`(field == "a")</td></tr></tbody></table>
<h3 id="query-weighting-system" class="group" data-header="true">Query Weighting System<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The system implements two distinct weighting mechanisms that control different aspects of similarity calculation:</p>
<h4 id="space-weights-vs-clause-weights" class="group" data-header="true">Space Weights vs Clause Weights<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«rg»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1012.40625 1011" style="max-width: 1012.41px; touch-action: none; user-select: none; cursor: grab;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-pd9wjomcb7i" preserveAspectRatio="xMidYMid meet"><style>#mermaid-pd9wjomcb7i{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-pd9wjomcb7i .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-pd9wjomcb7i .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-pd9wjomcb7i .error-icon{fill:#dddddd;}#mermaid-pd9wjomcb7i .error-text{fill:#222222;stroke:#222222;}#mermaid-pd9wjomcb7i .edge-thickness-normal{stroke-width:1px;}#mermaid-pd9wjomcb7i .edge-thickness-thick{stroke-width:3.5px;}#mermaid-pd9wjomcb7i .edge-pattern-solid{stroke-dasharray:0;}#mermaid-pd9wjomcb7i .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-pd9wjomcb7i .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-pd9wjomcb7i .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-pd9wjomcb7i .marker{fill:#999;stroke:#999;}#mermaid-pd9wjomcb7i .marker.cross{stroke:#999;}#mermaid-pd9wjomcb7i svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-pd9wjomcb7i p{margin:0;}#mermaid-pd9wjomcb7i .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-pd9wjomcb7i .cluster-label text{fill:#444;}#mermaid-pd9wjomcb7i .cluster-label span{color:#444;}#mermaid-pd9wjomcb7i .cluster-label span p{background-color:transparent;}#mermaid-pd9wjomcb7i .label text,#mermaid-pd9wjomcb7i span{fill:#333;color:#333;}#mermaid-pd9wjomcb7i .node rect,#mermaid-pd9wjomcb7i .node circle,#mermaid-pd9wjomcb7i .node ellipse,#mermaid-pd9wjomcb7i .node polygon,#mermaid-pd9wjomcb7i .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-pd9wjomcb7i .rough-node .label text,#mermaid-pd9wjomcb7i .node .label text,#mermaid-pd9wjomcb7i .image-shape .label,#mermaid-pd9wjomcb7i .icon-shape .label{text-anchor:middle;}#mermaid-pd9wjomcb7i .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-pd9wjomcb7i .rough-node .label,#mermaid-pd9wjomcb7i .node .label,#mermaid-pd9wjomcb7i .image-shape .label,#mermaid-pd9wjomcb7i .icon-shape .label{text-align:center;}#mermaid-pd9wjomcb7i .node.clickable{cursor:pointer;}#mermaid-pd9wjomcb7i .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-pd9wjomcb7i .arrowheadPath{fill:#0b0b0b;}#mermaid-pd9wjomcb7i .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-pd9wjomcb7i .flowchart-link{stroke:#999;fill:none;}#mermaid-pd9wjomcb7i .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-pd9wjomcb7i .edgeLabel p{background-color:#ffffff;}#mermaid-pd9wjomcb7i .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-pd9wjomcb7i .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-pd9wjomcb7i .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-pd9wjomcb7i .cluster text{fill:#444;}#mermaid-pd9wjomcb7i .cluster span{color:#444;}#mermaid-pd9wjomcb7i div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-pd9wjomcb7i .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-pd9wjomcb7i rect.text{fill:none;stroke-width:0;}#mermaid-pd9wjomcb7i .icon-shape,#mermaid-pd9wjomcb7i .image-shape{background-color:#ffffff;text-align:center;}#mermaid-pd9wjomcb7i .icon-shape p,#mermaid-pd9wjomcb7i .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-pd9wjomcb7i .icon-shape rect,#mermaid-pd9wjomcb7i .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-pd9wjomcb7i :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-pd9wjomcb7i_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-pd9wjomcb7i_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-pd9wjomcb7i_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-pd9wjomcb7i_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-pd9wjomcb7i_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-pd9wjomcb7i_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph2" class="cluster"><rect height="200" width="636.40625" y="8" x="368" style=""></rect><g transform="translate(636.890625, 8)" class="cluster-label"><foreignObject height="24" width="98.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Weight Types</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph1" class="cluster"><rect height="464" width="906.38671875" y="539" x="21.95703125" style=""></rect><g transform="translate(382.814453125, 539)" class="cluster-label"><foreignObject height="24" width="184.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Space Weight Processing</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="481" width="340" y="8" x="8" style=""></rect><g transform="translate(83.671875, 8)" class="cluster-label"><foreignObject height="24" width="188.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Clause Weight Processing</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-pd9wjomcb7i_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ClauseInputs_ClauseWeights_0" d="M173,147L173,157.167C173,167.333,173,187.667,173,202C173,216.333,173,224.667,173.548,232.341C174.096,240.016,175.192,247.032,175.741,250.54L176.289,254.048"></path><path marker-end="url(#mermaid-pd9wjomcb7i_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ClauseWeights_QueryVectorConstruction_0" d="M183,336L183,340.167C183,344.333,183,352.667,183,360.333C183,368,183,375,183,378.5L183,382"></path><path marker-end="url(#mermaid-pd9wjomcb7i_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryVectorConstruction_PerSpaceVectors_0" d="M183,464L183,468.167C183,472.333,183,480.667,183,489C183,497.333,183,505.667,183,514C183,522.333,183,530.667,183,538.333C183,546,183,553,183,556.5L183,560"></path><path marker-end="url(#mermaid-pd9wjomcb7i_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PerSpaceVectors_SpaceWeights_0" d="M183,618L183,622.167C183,626.333,183,634.667,215.083,645.124C247.166,655.581,311.331,668.161,343.414,674.452L375.497,680.742"></path><path marker-end="url(#mermaid-pd9wjomcb7i_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SpaceWeights_VectorNormalization_0" d="M509.422,746L509.422,750.167C509.422,754.333,509.422,762.667,509.422,770.333C509.422,778,509.422,785,509.422,788.5L509.422,792"></path><path marker-end="url(#mermaid-pd9wjomcb7i_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_VectorNormalization_FinalQueryVector_0" d="M509.422,850L509.422,854.167C509.422,858.333,509.422,866.667,509.422,874.333C509.422,882,509.422,889,509.422,892.5L509.422,896"></path><path marker-end="url(#mermaid-pd9wjomcb7i_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ClauseWeightTypes_ClauseWeights_0" d="M527.641,159L527.641,167.167C527.641,175.333,527.641,191.667,482.284,204C436.927,216.333,346.214,224.667,296.637,232.559C247.059,240.451,238.619,247.902,234.399,251.627L230.178,255.353"></path><path marker-end="url(#mermaid-pd9wjomcb7i_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_SpaceWeightTypes_SpaceWeights_0" d="M835.844,183L835.844,187.167C835.844,191.333,835.844,199.667,835.844,208C835.844,216.333,835.844,224.667,835.844,239.5C835.844,254.333,835.844,275.667,835.844,297C835.844,318.333,835.844,339.667,835.844,361C835.844,382.333,835.844,403.667,835.844,425C835.844,446.333,835.844,467.667,835.844,482.5C835.844,497.333,835.844,505.667,835.844,514C835.844,522.333,835.844,530.667,835.844,543.5C835.844,556.333,835.844,573.667,835.844,591C835.844,608.333,835.844,625.667,803.761,640.624C771.678,655.581,707.513,668.161,675.43,674.452L643.347,680.742"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(173, 108)" id="flowchart-ClauseInputs-0" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Similar/WithVector Clause Inputs</p></span></div></foreignObject></g></g><g transform="translate(183, 297)" id="flowchart-ClauseWeights-1" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Clause Weights (intra-space)</p></span></div></foreignObject></g></g><g transform="translate(183, 425)" id="flowchart-QueryVectorConstruction-2" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Query Vector Construction per Space</p></span></div></foreignObject></g></g><g transform="translate(183, 591)" id="flowchart-PerSpaceVectors-3" class="node default"><rect height="54" width="244.171875" y="-27" x="-122.0859375" style="" class="basic label-container"></rect><g transform="translate(-92.0859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="184.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Per-Space Query Vectors</p></span></div></foreignObject></g></g><g transform="translate(509.421875, 707)" id="flowchart-SpaceWeights-4" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Space Weights (inter-space)</p></span></div></foreignObject></g></g><g transform="translate(509.421875, 823)" id="flowchart-VectorNormalization-5" class="node default"><rect height="54" width="212.078125" y="-27" x="-106.0390625" style="" class="basic label-container"></rect><g transform="translate(-76.0390625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="152.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Vector Normalization</p></span></div></foreignObject></g></g><g transform="translate(509.421875, 939)" id="flowchart-FinalQueryVector-6" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Final Aggregated Query Vector</p></span></div></foreignObject></g></g><g transform="translate(527.640625, 108)" id="flowchart-ClauseWeightTypes-7" class="node default"><rect height="102" width="249.28125" y="-51" x="-124.640625" style="" class="basic label-container"></rect><g transform="translate(-94.640625, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="189.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Clause Weights:<br>- similar(weight=0.7)<br>- with_vector(weight=0.3)</p></span></div></foreignObject></g></g><g transform="translate(835.84375, 108)" id="flowchart-SpaceWeightTypes-8" class="node default"><rect height="150" width="267.125" y="-75" x="-133.5625" style="" class="basic label-container"></rect><g transform="translate(-103.5625, -60)" style="" class="label"><rect></rect><foreignObject height="120" width="207.125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Space Weights:<br>- space_weights({text_space: 0.8})<br>- with_vector(weight_dict)</p></span></div></foreignObject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h4 id="space-weights-implementation" class="group" data-header="true">Space Weights Implementation<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h4>
<p><strong>Space weights</strong> determine the relative contribution of each vector space to the overall similarity score:</p>

























<table><thead><tr><th>Component</th><th>Purpose</th><th>Implementation</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">space_weights(weight_dict)</code></td><td>Sets inter-space importance</td><td>Reweights normalized per-space vectors</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">SpaceWeightClause</code></td><td>Individual space weight</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">evaluate()</code> returns <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">tuple[Space, float]</code></td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">get_param_value_for_unset_space_weights()</code></td><td>Default weight calculation</td><td>Uses <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DEFAULT_WEIGHT</code> for unspecified spaces</td></tr></tbody></table>
<h4 id="clause-weights-implementation" class="group" data-header="true">Clause Weights Implementation<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h4>
<p><strong>Clause weights</strong> control how individual clauses contribute to query vector formation within each space:</p>

























<table><thead><tr><th>Component</th><th>Purpose</th><th>Implementation</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">similar(weight=0.7)</code></td><td>Controls single-space clause contribution</td><td>Affects query vector construction</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">with_vector(weight=0.3)</code></td><td>Controls multi-space clause contribution</td><td>Applies across all spaces in index</td></tr><tr><td>Per-space <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">with_vector</code> weights</td><td>Fine-grained space control</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">{space: weight}</code> dictionary format</td></tr></tbody></table>
<h4 id="weight-processing-order" class="group" data-header="true">Weight Processing Order<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h4>
<ol>
<li><strong>Clause weights</strong> influence query vector construction per space</li>
<li>Per-space query vectors are normalized</li>
<li><strong>Space weights</strong> reweight normalized vectors for final aggregation</li>
<li>Final similarity scores computed against aggregated query vector</li>
</ol>
<p>Sources: <a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/feature/querying_options.ipynb#L1005-L1020" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/feature/querying_options.ipynb</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1005-1020</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/feature/querying_options.ipynb#L494-L501" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/feature/querying_options.ipynb</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">494-501</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/docs/reference/dsl/query/query_descriptor.md#L199-L227" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>docs/reference/dsl/query/query_descriptor.md</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">199-227</span></a></p>
<h3 id="query-validation-and-error-handling" class="group" data-header="true">Query Validation and Error Handling<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The system implements comprehensive validation through multiple validator classes:</p>

























<table><thead><tr><th>Validator</th><th>Purpose</th><th>Key Methods</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryDescriptorValidator</code></td><td>Query structure validation</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">validate()</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">__validate_schema()</code></td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryFilterValidator</code></td><td>Filter operation validation</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">validate_operation_is_supported()</code></td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryFilterValidator</code></td><td>Parameter type validation</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">validate_operation_operand_type()</code></td></tr></tbody></table>
<p>Sources: <a href="https://github.com/superlinked/superlinked/blob/6803226c/framework/src/framework/dsl/query/query_descriptor.py#L278-L477" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>framework/src/framework/dsl/query/query_descriptor.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">278-477</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/framework/src/framework/dsl/query/query_clause.py#L504-L560" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>framework/src/framework/dsl/query/query_clause.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">504-560</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/framework/src/framework/dsl/query/query_clause.py#L173-L219" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>framework/src/framework/dsl/query/query_clause.py</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">173-219</span></a></p>
<h2 id="result-structure-and-metadata" class="group" data-header="true">Result Structure and Metadata<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<p>Query results are structured through the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryResult</code> class and related result classes that provide comprehensive search result information and metadata.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«rj»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 2445.1796875 862" style="max-width: 2445.18px; touch-action: none; user-select: none; cursor: grab;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-0lzmoik6ntwb" preserveAspectRatio="xMidYMid meet"><style>#mermaid-0lzmoik6ntwb{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-0lzmoik6ntwb .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-0lzmoik6ntwb .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-0lzmoik6ntwb .error-icon{fill:#dddddd;}#mermaid-0lzmoik6ntwb .error-text{fill:#222222;stroke:#222222;}#mermaid-0lzmoik6ntwb .edge-thickness-normal{stroke-width:1px;}#mermaid-0lzmoik6ntwb .edge-thickness-thick{stroke-width:3.5px;}#mermaid-0lzmoik6ntwb .edge-pattern-solid{stroke-dasharray:0;}#mermaid-0lzmoik6ntwb .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-0lzmoik6ntwb .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-0lzmoik6ntwb .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-0lzmoik6ntwb .marker{fill:#999;stroke:#999;}#mermaid-0lzmoik6ntwb .marker.cross{stroke:#999;}#mermaid-0lzmoik6ntwb svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-0lzmoik6ntwb p{margin:0;}#mermaid-0lzmoik6ntwb .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-0lzmoik6ntwb .cluster-label text{fill:#444;}#mermaid-0lzmoik6ntwb .cluster-label span{color:#444;}#mermaid-0lzmoik6ntwb .cluster-label span p{background-color:transparent;}#mermaid-0lzmoik6ntwb .label text,#mermaid-0lzmoik6ntwb span{fill:#333;color:#333;}#mermaid-0lzmoik6ntwb .node rect,#mermaid-0lzmoik6ntwb .node circle,#mermaid-0lzmoik6ntwb .node ellipse,#mermaid-0lzmoik6ntwb .node polygon,#mermaid-0lzmoik6ntwb .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-0lzmoik6ntwb .rough-node .label text,#mermaid-0lzmoik6ntwb .node .label text,#mermaid-0lzmoik6ntwb .image-shape .label,#mermaid-0lzmoik6ntwb .icon-shape .label{text-anchor:middle;}#mermaid-0lzmoik6ntwb .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-0lzmoik6ntwb .rough-node .label,#mermaid-0lzmoik6ntwb .node .label,#mermaid-0lzmoik6ntwb .image-shape .label,#mermaid-0lzmoik6ntwb .icon-shape .label{text-align:center;}#mermaid-0lzmoik6ntwb .node.clickable{cursor:pointer;}#mermaid-0lzmoik6ntwb .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-0lzmoik6ntwb .arrowheadPath{fill:#0b0b0b;}#mermaid-0lzmoik6ntwb .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-0lzmoik6ntwb .flowchart-link{stroke:#999;fill:none;}#mermaid-0lzmoik6ntwb .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-0lzmoik6ntwb .edgeLabel p{background-color:#ffffff;}#mermaid-0lzmoik6ntwb .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-0lzmoik6ntwb .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-0lzmoik6ntwb .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-0lzmoik6ntwb .cluster text{fill:#444;}#mermaid-0lzmoik6ntwb .cluster span{color:#444;}#mermaid-0lzmoik6ntwb div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-0lzmoik6ntwb .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-0lzmoik6ntwb rect.text{fill:none;stroke-width:0;}#mermaid-0lzmoik6ntwb .icon-shape,#mermaid-0lzmoik6ntwb .image-shape{background-color:#ffffff;text-align:center;}#mermaid-0lzmoik6ntwb .icon-shape p,#mermaid-0lzmoik6ntwb .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-0lzmoik6ntwb .icon-shape rect,#mermaid-0lzmoik6ntwb .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-0lzmoik6ntwb :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-0lzmoik6ntwb_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-0lzmoik6ntwb_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-0lzmoik6ntwb_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-0lzmoik6ntwb_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-0lzmoik6ntwb_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph4" class="cluster"><rect height="128" width="934.40625" y="419" x="8" style=""></rect><g transform="translate(382.359375, 419)" class="cluster-label"><foreignObject height="24" width="185.6875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ResultMetadata Structure</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph3" class="cluster"><rect height="128" width="831.765625" y="726" x="896.796875" style=""></rect><g transform="translate(1212.6796875, 726)" class="cluster-label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ResultEntryMetadata Structure</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph2" class="cluster"><rect height="128" width="732.40625" y="419" x="1704.4296875" style=""></rect><g transform="translate(1993.078125, 419)" class="cluster-label"><foreignObject height="24" width="155.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ResultEntry Structure</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph1" class="cluster"><rect height="128" width="833.890625" y="137" x="1603.2890625" style=""></rect><g transform="translate(1939.609375, 137)" class="cluster-label"><foreignObject height="24" width="161.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QueryResult Structure</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="668" width="620.8828125" y="8" x="962.40625" style=""></rect><g transform="translate(1191.61328125, 8)" class="cluster-label"><foreignObject height="24" width="162.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Result Class Hierarchy</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryResult_QREntries_0" d="M1272.848,87L1272.848,91.167C1272.848,95.333,1272.848,103.667,1272.848,112C1272.848,120.333,1272.848,128.667,1383.215,141.705C1493.582,154.743,1714.317,172.487,1824.685,181.358L1935.052,190.23"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryResult_QRMetadata_0" d="M1244.397,87L1240.007,91.167C1235.617,95.333,1226.836,103.667,1222.445,112C1218.055,120.333,1218.055,128.667,1287.432,140.971C1356.809,153.276,1495.562,169.552,1564.939,177.69L1634.316,185.828"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryResult_QRStr_0" d="M1301.298,87L1305.688,91.167C1310.079,95.333,1318.86,103.667,1323.25,112C1327.641,120.333,1327.641,128.667,1480.542,142.639C1633.443,156.611,1939.245,176.222,2092.146,186.028L2245.047,195.834"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QREntries_ResultEntry_0" d="M2069.039,240L2069.039,244.167C2069.039,248.333,2069.039,256.667,1954.976,265C1840.913,273.333,1612.786,281.667,1498.723,289.333C1384.66,297,1384.66,304,1384.66,307.5L1384.66,311"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultEntry_REId_0" d="M1335.767,369L1328.222,373.167C1320.677,377.333,1305.586,385.667,1298.041,394C1290.496,402.333,1290.496,410.667,1364.657,424.336C1438.818,438.006,1587.14,457.012,1661.301,466.515L1735.462,476.018"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultEntry_REFields_0" d="M1384.66,369L1384.66,373.167C1384.66,377.333,1384.66,385.667,1384.66,394C1384.66,402.333,1384.66,410.667,1468.3,423.659C1551.94,436.652,1719.219,454.304,1802.859,463.13L1886.499,471.956"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultEntry_REMetadata_0" d="M1412.313,369L1416.581,373.167C1420.848,377.333,1429.383,385.667,1433.651,394C1437.918,402.333,1437.918,410.667,1554.573,423.786C1671.228,436.906,1904.538,454.811,2021.193,463.764L2137.848,472.717"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_REMetadata_ResultEntryMetadata_0" d="M2271.836,522L2271.836,526.167C2271.836,530.333,2271.836,538.667,2102.033,547C1932.229,555.333,1592.622,563.667,1422.819,571.333C1253.016,579,1253.016,586,1253.016,589.5L1253.016,593"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultEntryMetadata_REMScore_0" d="M1147.219,645.952L1123.083,650.96C1098.948,655.968,1050.677,665.984,1026.542,675.159C1002.406,684.333,1002.406,692.667,1002.406,701C1002.406,709.333,1002.406,717.667,1002.406,727.333C1002.406,737,1002.406,748,1002.406,753.5L1002.406,759"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultEntryMetadata_REMPartialScores_0" d="M1253.016,651L1253.016,655.167C1253.016,659.333,1253.016,667.667,1253.016,676C1253.016,684.333,1253.016,692.667,1253.016,701C1253.016,709.333,1253.016,717.667,1253.016,725.333C1253.016,733,1253.016,740,1253.016,743.5L1253.016,747"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultEntryMetadata_REMVectorParts_0" d="M1358.813,641.731L1392.892,647.442C1426.971,653.154,1495.13,664.577,1529.21,674.455C1563.289,684.333,1563.289,692.667,1563.289,701C1563.289,709.333,1563.289,717.667,1563.289,725.333C1563.289,733,1563.289,740,1563.289,743.5L1563.289,747"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QRMetadata_ResultMetadata_0" d="M1763.664,228L1763.664,234.167C1763.664,240.333,1763.664,252.667,1665.775,263C1567.887,273.333,1372.109,281.667,1274.221,289.333C1176.332,297,1176.332,304,1176.332,307.5L1176.332,311"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultMetadata_RMSchemaName_0" d="M1144.708,369L1139.827,373.167C1134.947,377.333,1125.186,385.667,1120.306,394C1115.426,402.333,1115.426,410.667,978.088,424.083C840.75,437.5,566.073,456,428.735,465.25L291.397,474.5"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultMetadata_RMSearchVector_0" d="M1176.332,369L1176.332,373.167C1176.332,377.333,1176.332,385.667,1176.332,394C1176.332,402.333,1176.332,410.667,1080.508,423.484C984.685,436.301,793.037,453.603,697.214,462.254L601.39,470.904"></path><path marker-end="url(#mermaid-0lzmoik6ntwb_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultMetadata_RMSearchParams_0" d="M1225.225,369L1232.77,373.167C1240.315,377.333,1255.406,385.667,1262.951,394C1270.496,402.333,1270.496,410.667,1210.642,422.602C1150.788,434.537,1031.081,450.075,971.227,457.843L911.373,465.612"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(1272.84765625, 60)" id="flowchart-QueryResult-0" class="node default"><rect height="54" width="149.171875" y="-27" x="-74.5859375" style="" class="basic label-container"></rect><g transform="translate(-44.5859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="89.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QueryResult</p></span></div></foreignObject></g></g><g transform="translate(1384.66015625, 342)" id="flowchart-ResultEntry-1" class="node default"><rect height="54" width="143.03125" y="-27" x="-71.515625" style="" class="basic label-container"></rect><g transform="translate(-41.515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="83.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ResultEntry</p></span></div></foreignObject></g></g><g transform="translate(1176.33203125, 342)" id="flowchart-ResultMetadata-2" class="node default"><rect height="54" width="173.625" y="-27" x="-86.8125" style="" class="basic label-container"></rect><g transform="translate(-56.8125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="113.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ResultMetadata</p></span></div></foreignObject></g></g><g transform="translate(1253.015625, 624)" id="flowchart-ResultEntryMetadata-3" class="node default"><rect height="54" width="211.59375" y="-27" x="-105.796875" style="" class="basic label-container"></rect><g transform="translate(-75.796875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="151.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ResultEntryMetadata</p></span></div></foreignObject></g></g><g transform="translate(2069.0390625, 201)" id="flowchart-QREntries-4" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>entries: Sequence[ResultEntry]</p></span></div></foreignObject></g></g><g transform="translate(1763.6640625, 201)" id="flowchart-QRMetadata-5" class="node default"><rect height="54" width="250.75" y="-27" x="-125.375" style="" class="basic label-container"></rect><g transform="translate(-95.375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="190.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>metadata: ResultMetadata</p></span></div></foreignObject></g></g><g transform="translate(2325.609375, 201)" id="flowchart-QRStr-6" class="node default"><rect height="54" width="153.140625" y="-27" x="-76.5703125" style="" class="basic label-container"></rect><g transform="translate(-46.5703125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="93.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p><strong>str</strong>() method</p></span></div></foreignObject></g></g><g transform="translate(1789.953125, 483)" id="flowchart-REId-7" class="node default"><rect height="54" width="101.046875" y="-27" x="-50.5234375" style="" class="basic label-container"></rect><g transform="translate(-20.5234375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="41.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>id: str</p></span></div></foreignObject></g></g><g transform="translate(1991.15625, 483)" id="flowchart-REFields-8" class="node default"><rect height="54" width="201.359375" y="-27" x="-100.6796875" style="" class="basic label-container"></rect><g transform="translate(-70.6796875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="141.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>fields: dict[str, Any]</p></span></div></foreignObject></g></g><g transform="translate(2271.8359375, 483)" id="flowchart-REMetadata-9" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>metadata: ResultEntryMetadata</p></span></div></foreignObject></g></g><g transform="translate(1002.40625, 790)" id="flowchart-REMScore-10" class="node default"><rect height="54" width="141.21875" y="-27" x="-70.609375" style="" class="basic label-container"></rect><g transform="translate(-40.609375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="81.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>score: float</p></span></div></foreignObject></g></g><g transform="translate(1253.015625, 790)" id="flowchart-REMPartialScores-11" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>partial_scores: Sequence[float]</p></span></div></foreignObject></g></g><g transform="translate(1563.2890625, 790)" id="flowchart-REMVectorParts-12" class="node default"><rect height="78" width="260.546875" y="-39" x="-130.2734375" style="" class="basic label-container"></rect><g transform="translate(-100.2734375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200.546875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>vector_parts: Sequence[Sequence[float]]</p></span></div></foreignObject></g></g><g transform="translate(165.203125, 483)" id="flowchart-RMSchemaName-13" class="node default"><rect height="54" width="244.40625" y="-27" x="-122.203125" style="" class="basic label-container"></rect><g transform="translate(-92.203125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="184.40625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>schema_name: str | None</p></span></div></foreignObject></g></g><g transform="translate(467.40625, 483)" id="flowchart-RMSearchVector-14" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>search_vector: Sequence[float]</p></span></div></foreignObject></g></g><g transform="translate(777.40625, 483)" id="flowchart-RMSearchParams-15" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>search_params: dict[str, Any]</p></span></div></foreignObject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h3 id="result-classes-implementation" class="group" data-header="true">Result Classes Implementation<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The result system implements structured data through <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ImmutableBaseModel</code> classes:</p>






























<table><thead><tr><th>Class</th><th>Purpose</th><th>Key Fields</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryResult</code></td><td>Top-level result container</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">entries</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">metadata</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">__str__()</code></td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ResultEntry</code></td><td>Individual search result</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">id</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">fields</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">metadata</code></td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ResultEntryMetadata</code></td><td>Per-result metadata</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">score</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">partial_scores</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">vector_parts</code></td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ResultMetadata</code></td><td>Query-level metadata</td><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">schema_name</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">search_vector</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">search_params</code></td></tr></tbody></table>
<h3 id="metadata-access-and-processing" class="group" data-header="true">Metadata Access and Processing<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The system provides metadata access through the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">include_metadata()</code> method:</p>

























<table><thead><tr><th>Component</th><th>Purpose</th><th>Implementation</th></tr></thead><tbody><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">include_metadata()</code></td><td>Enables metadata collection</td><td>Sets <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryUserConfig.with_metadata = True</code></td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryUserConfig</code></td><td>Query execution configuration</td><td>Controls metadata inclusion</td></tr><tr><td><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">with_metadata</code> property</td><td>Metadata inclusion flag</td><td>Used by query execution pipeline</td></tr></tbody></table>
<h3 id="result-processing-and-conversion" class="group" data-header="true">Result Processing and Conversion<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The system provides multiple ways to process and analyze query results:</p>
<h4 id="result-access-patterns" class="group" data-header="true">Result Access Patterns<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«rm»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1662.15625 611" style="max-width: 1662.16px; touch-action: none; user-select: none; cursor: grab;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="mermaid-iwhpc48wamr" preserveAspectRatio="xMidYMid meet"><style>#mermaid-iwhpc48wamr{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-iwhpc48wamr .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-iwhpc48wamr .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-iwhpc48wamr .error-icon{fill:#dddddd;}#mermaid-iwhpc48wamr .error-text{fill:#222222;stroke:#222222;}#mermaid-iwhpc48wamr .edge-thickness-normal{stroke-width:1px;}#mermaid-iwhpc48wamr .edge-thickness-thick{stroke-width:3.5px;}#mermaid-iwhpc48wamr .edge-pattern-solid{stroke-dasharray:0;}#mermaid-iwhpc48wamr .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-iwhpc48wamr .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-iwhpc48wamr .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-iwhpc48wamr .marker{fill:#999;stroke:#999;}#mermaid-iwhpc48wamr .marker.cross{stroke:#999;}#mermaid-iwhpc48wamr svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-iwhpc48wamr p{margin:0;}#mermaid-iwhpc48wamr .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-iwhpc48wamr .cluster-label text{fill:#444;}#mermaid-iwhpc48wamr .cluster-label span{color:#444;}#mermaid-iwhpc48wamr .cluster-label span p{background-color:transparent;}#mermaid-iwhpc48wamr .label text,#mermaid-iwhpc48wamr span{fill:#333;color:#333;}#mermaid-iwhpc48wamr .node rect,#mermaid-iwhpc48wamr .node circle,#mermaid-iwhpc48wamr .node ellipse,#mermaid-iwhpc48wamr .node polygon,#mermaid-iwhpc48wamr .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-iwhpc48wamr .rough-node .label text,#mermaid-iwhpc48wamr .node .label text,#mermaid-iwhpc48wamr .image-shape .label,#mermaid-iwhpc48wamr .icon-shape .label{text-anchor:middle;}#mermaid-iwhpc48wamr .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-iwhpc48wamr .rough-node .label,#mermaid-iwhpc48wamr .node .label,#mermaid-iwhpc48wamr .image-shape .label,#mermaid-iwhpc48wamr .icon-shape .label{text-align:center;}#mermaid-iwhpc48wamr .node.clickable{cursor:pointer;}#mermaid-iwhpc48wamr .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-iwhpc48wamr .arrowheadPath{fill:#0b0b0b;}#mermaid-iwhpc48wamr .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-iwhpc48wamr .flowchart-link{stroke:#999;fill:none;}#mermaid-iwhpc48wamr .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-iwhpc48wamr .edgeLabel p{background-color:#ffffff;}#mermaid-iwhpc48wamr .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-iwhpc48wamr .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-iwhpc48wamr .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-iwhpc48wamr .cluster text{fill:#444;}#mermaid-iwhpc48wamr .cluster span{color:#444;}#mermaid-iwhpc48wamr div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-iwhpc48wamr .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-iwhpc48wamr rect.text{fill:none;stroke-width:0;}#mermaid-iwhpc48wamr .icon-shape,#mermaid-iwhpc48wamr .image-shape{background-color:#ffffff;text-align:center;}#mermaid-iwhpc48wamr .icon-shape p,#mermaid-iwhpc48wamr .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-iwhpc48wamr .icon-shape rect,#mermaid-iwhpc48wamr .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-iwhpc48wamr :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-iwhpc48wamr_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-iwhpc48wamr_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-iwhpc48wamr_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-iwhpc48wamr_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-iwhpc48wamr_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-iwhpc48wamr_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="Conversion_Options" class="cluster"><rect height="104" width="1026.203125" y="499" x="621.015625" style=""></rect><g transform="translate(1060.8515625, 499)" class="cluster-label"><foreignObject height="24" width="146.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Conversion_Options</p></span></div></foreignObject></g></g><g data-look="classic" id="Per_Entry_Access" class="cluster"><rect height="337" width="593.015625" y="266" x="8" style=""></rect><g transform="translate(239.2421875, 266)" class="cluster-label"><foreignObject height="24" width="130.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Per_Entry_Access</p></span></div></foreignObject></g></g><g data-look="classic" id="QueryResult_Processing" class="cluster"><rect height="208" width="1489.5625" y="8" x="164.59375" style=""></rect><g transform="translate(820.234375, 8)" class="cluster-label"><foreignObject height="24" width="178.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QueryResult_Processing</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-iwhpc48wamr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryResult_ResultEntries_0" d="M1154.656,64.072L1008.353,72.06C862.049,80.048,569.443,96.024,423.139,107.512C276.836,119,276.836,126,276.836,129.5L276.836,133"></path><path marker-end="url(#mermaid-iwhpc48wamr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryResult_PandasConverter_0" d="M1229.242,87L1229.242,91.167C1229.242,95.333,1229.242,103.667,1229.242,111.333C1229.242,119,1229.242,126,1229.242,129.5L1229.242,133"></path><path marker-end="url(#mermaid-iwhpc48wamr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_QueryResult_DirectAccess_0" d="M1303.828,73.236L1340.233,79.697C1376.638,86.158,1449.448,99.079,1485.853,109.039C1522.258,119,1522.258,126,1522.258,129.5L1522.258,133"></path><path marker-end="url(#mermaid-iwhpc48wamr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultEntries_ResultEntry_0" d="M276.836,191L276.836,195.167C276.836,199.333,276.836,207.667,276.836,216C276.836,224.333,276.836,232.667,276.836,241C276.836,249.333,276.836,257.667,276.836,265.333C276.836,273,276.836,280,276.836,283.5L276.836,287"></path><path marker-end="url(#mermaid-iwhpc48wamr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultEntry_EntryId_0" d="M205.32,339.031L187.768,344.192C170.216,349.354,135.112,359.677,117.56,368.338C100.008,377,100.008,384,100.008,387.5L100.008,391"></path><path marker-end="url(#mermaid-iwhpc48wamr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultEntry_EntryFields_0" d="M276.836,345L276.836,349.167C276.836,353.333,276.836,361.667,276.836,369.333C276.836,377,276.836,384,276.836,387.5L276.836,391"></path><path marker-end="url(#mermaid-iwhpc48wamr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ResultEntry_EntryMetadata_0" d="M348.352,336.185L370.516,341.821C392.68,347.457,437.008,358.728,459.172,367.864C481.336,377,481.336,384,481.336,387.5L481.336,391"></path><path marker-end="url(#mermaid-iwhpc48wamr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_EntryMetadata_SimilarityScore_0" d="M396.656,446.902L381.298,451.418C365.94,455.935,335.224,464.967,319.866,473.65C304.508,482.333,304.508,490.667,304.508,498.333C304.508,506,304.508,513,304.508,516.5L304.508,520"></path><path marker-end="url(#mermaid-iwhpc48wamr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_PandasConverter_PandasDF_0" d="M1229.242,191L1229.242,195.167C1229.242,199.333,1229.242,207.667,1229.242,216C1229.242,224.333,1229.242,232.667,1229.242,241C1229.242,249.333,1229.242,257.667,1229.242,270.5C1229.242,283.333,1229.242,300.667,1229.242,318C1229.242,335.333,1229.242,352.667,1229.242,370C1229.242,387.333,1229.242,404.667,1229.242,422C1229.242,439.333,1229.242,456.667,1229.242,469.5C1229.242,482.333,1229.242,490.667,1229.242,498.333C1229.242,506,1229.242,513,1229.242,516.5L1229.242,520"></path><path marker-end="url(#mermaid-iwhpc48wamr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_DirectAccess_CustomProcessing_0" d="M1522.258,191L1522.258,195.167C1522.258,199.333,1522.258,207.667,1522.258,216C1522.258,224.333,1522.258,232.667,1522.258,241C1522.258,249.333,1522.258,257.667,1522.258,270.5C1522.258,283.333,1522.258,300.667,1522.258,318C1522.258,335.333,1522.258,352.667,1522.258,370C1522.258,387.333,1522.258,404.667,1522.258,422C1522.258,439.333,1522.258,456.667,1522.258,469.5C1522.258,482.333,1522.258,490.667,1522.258,498.333C1522.258,506,1522.258,513,1522.258,516.5L1522.258,520"></path><path marker-end="url(#mermaid-iwhpc48wamr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_EntryMetadata_MetadataAnalysis_0" d="M481.336,449L481.336,453.167C481.336,457.333,481.336,465.667,481.336,474C481.336,482.333,481.336,490.667,509.795,500.316C538.253,509.966,595.171,520.931,623.629,526.414L652.088,531.897"></path><path marker-end="url(#mermaid-iwhpc48wamr_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_EntryMetadata_VectorExtraction_0" d="M512.407,449L517.201,453.167C521.996,457.333,531.586,465.667,536.381,474C541.176,482.333,541.176,490.667,599.729,501.638C658.282,512.61,775.389,526.219,833.942,533.024L892.495,539.829"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(1229.2421875, 60)" id="flowchart-QueryResult-0" class="node default"><rect height="54" width="149.171875" y="-27" x="-74.5859375" style="" class="basic label-container"></rect><g transform="translate(-44.5859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="89.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>QueryResult</p></span></div></foreignObject></g></g><g transform="translate(276.8359375, 164)" id="flowchart-ResultEntries-1" class="node default"><rect height="54" width="154.484375" y="-27" x="-77.2421875" style="" class="basic label-container"></rect><g transform="translate(-47.2421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="94.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>result.entries</p></span></div></foreignObject></g></g><g transform="translate(1229.2421875, 164)" id="flowchart-PandasConverter-2" class="node default"><rect height="54" width="292.234375" y="-27" x="-146.1171875" style="" class="basic label-container"></rect><g transform="translate(-116.1171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="232.234375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>sl.PandasConverter.to_pandas()</p></span></div></foreignObject></g></g><g transform="translate(1522.2578125, 164)" id="flowchart-DirectAccess-3" class="node default"><rect height="54" width="193.796875" y="-27" x="-96.8984375" style="" class="basic label-container"></rect><g transform="translate(-66.8984375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="133.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Direct field access</p></span></div></foreignObject></g></g><g transform="translate(276.8359375, 318)" id="flowchart-ResultEntry-4" class="node default"><rect height="54" width="143.03125" y="-27" x="-71.515625" style="" class="basic label-container"></rect><g transform="translate(-41.515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="83.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ResultEntry</p></span></div></foreignObject></g></g><g transform="translate(100.0078125, 422)" id="flowchart-EntryId-5" class="node default"><rect height="54" width="114.015625" y="-27" x="-57.0078125" style="" class="basic label-container"></rect><g transform="translate(-27.0078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="54.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>entry.id</p></span></div></foreignObject></g></g><g transform="translate(276.8359375, 422)" id="flowchart-EntryFields-6" class="node default"><rect height="54" width="139.640625" y="-27" x="-69.8203125" style="" class="basic label-container"></rect><g transform="translate(-39.8203125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="79.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>entry.fields</p></span></div></foreignObject></g></g><g transform="translate(481.3359375, 422)" id="flowchart-EntryMetadata-7" class="node default"><rect height="54" width="169.359375" y="-27" x="-84.6796875" style="" class="basic label-container"></rect><g transform="translate(-54.6796875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="109.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>entry.metadata</p></span></div></foreignObject></g></g><g transform="translate(304.5078125, 551)" id="flowchart-SimilarityScore-8" class="node default"><rect height="54" width="214.015625" y="-27" x="-107.0078125" style="" class="basic label-container"></rect><g transform="translate(-77.0078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="154.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>entry.metadata.score</p></span></div></foreignObject></g></g><g transform="translate(1229.2421875, 551)" id="flowchart-PandasDF-9" class="node default"><rect height="54" width="196.953125" y="-27" x="-98.4765625" style="" class="basic label-container"></rect><g transform="translate(-68.4765625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="136.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>pandas.DataFrame</p></span></div></foreignObject></g></g><g transform="translate(1522.2578125, 551)" id="flowchart-CustomProcessing-10" class="node default"><rect height="54" width="179.921875" y="-27" x="-89.9609375" style="" class="basic label-container"></rect><g transform="translate(-59.9609375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="119.921875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Custom iteration</p></span></div></foreignObject></g></g><g transform="translate(751.2421875, 551)" id="flowchart-MetadataAnalysis-11" class="node default"><rect height="54" width="190.453125" y="-27" x="-95.2265625" style="" class="basic label-container"></rect><g transform="translate(-65.2265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="130.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Metadata analysis</p></span></div></foreignObject></g></g><g transform="translate(988.6171875, 551)" id="flowchart-VectorExtraction-12" class="node default"><rect height="54" width="184.296875" y="-27" x="-92.1484375" style="" class="basic label-container"></rect><g transform="translate(-62.1484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="124.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Vector extraction</p></span></div></foreignObject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h4 id="practical-result-usage-patterns" class="group" data-header="true">Practical Result Usage Patterns<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;"># From basic building blocks - pandas conversion</span><span>
</span><span>result = app.query(query, query_text=</span><span style="color: rgb(221, 17, 68);">"This is a happy person"</span><span>)
</span>df = sl.PandasConverter.to_pandas(result)
<span></span><span style="color: rgb(0, 134, 179);">print</span><span>(df[[</span><span style="color: rgb(221, 17, 68);">'body'</span><span>, </span><span style="color: rgb(221, 17, 68);">'id'</span><span>, </span><span style="color: rgb(221, 17, 68);">'similarity_score'</span><span>]])
</span>
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;"># From Netflix search - direct result iteration</span><span>
</span>result = app.query(movie_query, **query_params)
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> entry </span><span style="color: rgb(51, 51, 51); font-weight: bold;">in</span><span> result.entries:
</span><span>    </span><span style="color: rgb(0, 134, 179);">print</span><span>(</span><span style="color: rgb(221, 17, 68);">f"Title: </span><span style="color: rgb(51, 51, 51); font-weight: normal;">{entry.fields[</span><span style="color: rgb(51, 51, 51); font-weight: normal;">'title'</span><span style="color: rgb(51, 51, 51); font-weight: normal;">]}</span><span style="color: rgb(221, 17, 68);">"</span><span>)
</span><span>    </span><span style="color: rgb(0, 134, 179);">print</span><span>(</span><span style="color: rgb(221, 17, 68);">f"Score: </span><span style="color: rgb(51, 51, 51); font-weight: normal;">{entry.metadata.score}</span><span style="color: rgb(221, 17, 68);">"</span><span>)
</span><span>    </span><span style="color: rgb(0, 134, 179);">print</span><span>(</span><span style="color: rgb(221, 17, 68);">f"Description: </span><span style="color: rgb(51, 51, 51); font-weight: normal;">{entry.fields[</span><span style="color: rgb(51, 51, 51); font-weight: normal;">'description'</span><span style="color: rgb(51, 51, 51); font-weight: normal;">]}</span><span style="color: rgb(221, 17, 68);">"</span><span>)
</span>
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;"># From e-commerce - top results processing</span><span>
</span>result = app.query(cold_start_query, **params)
<span>top_products = result.entries[:</span><span style="color: rgb(0, 128, 128);">5</span><span>]
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> i, product </span><span style="color: rgb(51, 51, 51); font-weight: bold;">in</span><span> </span><span style="color: rgb(0, 134, 179);">enumerate</span><span>(top_products, </span><span style="color: rgb(0, 128, 128);">1</span><span>):
</span><span>    </span><span style="color: rgb(0, 134, 179);">print</span><span>(</span><span style="color: rgb(221, 17, 68);">f"</span><span style="color: rgb(51, 51, 51); font-weight: normal;">{i}</span><span style="color: rgb(221, 17, 68);">. </span><span style="color: rgb(51, 51, 51); font-weight: normal;">{product.fields[</span><span style="color: rgb(51, 51, 51); font-weight: normal;">'name'</span><span style="color: rgb(51, 51, 51); font-weight: normal;">]}</span><span style="color: rgb(221, 17, 68);"> - $</span><span style="color: rgb(51, 51, 51); font-weight: normal;">{product.fields[</span><span style="color: rgb(51, 51, 51); font-weight: normal;">'price'</span><span style="color: rgb(51, 51, 51); font-weight: normal;">]}</span><span style="color: rgb(221, 17, 68);">"</span><span>)</span></code></pre></pre>
<h4 id="metadata-analysis-for-query-tuning" class="group" data-header="true">Metadata Analysis for Query Tuning<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;"># Enable metadata collection for analysis</span><span>
</span>query = query.include_metadata()

<span></span><span style="color: rgb(153, 153, 136); font-style: italic;"># Analyze partial scores per space</span><span>
</span>result = app.query(query, **params)
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> entry </span><span style="color: rgb(51, 51, 51); font-weight: bold;">in</span><span> result.entries[:</span><span style="color: rgb(0, 128, 128);">3</span><span>]:
</span><span>    </span><span style="color: rgb(0, 134, 179);">print</span><span>(</span><span style="color: rgb(221, 17, 68);">f"\nItem </span><span style="color: rgb(51, 51, 51); font-weight: normal;">{entry.</span><span style="color: rgb(0, 134, 179); font-weight: normal;">id</span><span style="color: rgb(51, 51, 51); font-weight: normal;">}</span><span style="color: rgb(221, 17, 68);">: total_score=</span><span style="color: rgb(51, 51, 51); font-weight: normal;">{entry.metadata.score:</span><span style="color: rgb(0, 128, 128); font-weight: normal;">.3</span><span style="color: rgb(51, 51, 51); font-weight: normal;">f}</span><span style="color: rgb(221, 17, 68);">"</span><span>)
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> </span><span style="color: rgb(0, 134, 179);">hasattr</span><span>(entry.metadata, </span><span style="color: rgb(221, 17, 68);">'partial_scores'</span><span>):
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> i, partial </span><span style="color: rgb(51, 51, 51); font-weight: bold;">in</span><span> </span><span style="color: rgb(0, 134, 179);">enumerate</span><span>(entry.metadata.partial_scores):
</span><span>            </span><span style="color: rgb(0, 134, 179);">print</span><span>(</span><span style="color: rgb(221, 17, 68);">f"  Space </span><span style="color: rgb(51, 51, 51); font-weight: normal;">{i}</span><span style="color: rgb(221, 17, 68);"> contribution: </span><span style="color: rgb(51, 51, 51); font-weight: normal;">{partial:</span><span style="color: rgb(0, 128, 128); font-weight: normal;">.3</span><span style="color: rgb(51, 51, 51); font-weight: normal;">f}</span><span style="color: rgb(221, 17, 68);">"</span><span>)</span></code></pre></pre>
<h4 id="result-string-representation" class="group" data-header="true">Result String Representation<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h4>
<p>The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">QueryResult.__str__()</code> method provides formatted result display for debugging:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;"># Format: "#&lt;rank&gt; id:&lt;entry_id&gt;, object:&lt;entry_fields&gt;"</span><span>
</span><span></span><span style="color: rgb(0, 134, 179);">print</span><span>(</span><span style="color: rgb(0, 134, 179);">str</span><span>(result))  </span><span style="color: rgb(153, 153, 136); font-style: italic;"># Shows ranked results with IDs and field values</span></code></pre></pre>
<p>Sources: <a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/feature/querying_options.ipynb#L1046-L1053" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/feature/querying_options.ipynb</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">1046-1053</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/docs/reference/dsl/query/result.md#L164-L176" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>docs/reference/dsl/query/result.md</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">164-176</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/docs/reference/dsl/query/query_descriptor.md#L68-L72" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>docs/reference/dsl/query/query_descriptor.md</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">68-72</span></a></p>
<h2 id="integration-patterns" class="group" data-header="true">Integration Patterns<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h2>
<h3 id="common-query-patterns" class="group" data-header="true">Common Query Patterns<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<p>The framework supports several common search patterns demonstrated across applications:</p>
<ol>
<li><strong>Semantic Search</strong>: Text similarity with optional filtering</li>
<li><strong>Recommendation Systems</strong>: Item-to-item similarity with behavioral weighting</li>
<li><strong>Faceted Search</strong>: Multiple filter combinations with relevance scoring</li>
<li><strong>Temporal Search</strong>: Recency-weighted results with content similarity</li>
</ol>
<h3 id="parameter-binding-examples" class="group" data-header="true">Parameter Binding Examples<button class="relative ml-2 cursor-pointer align-baseline text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to header"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30"># Static parameter binding
app.query(query, query_text="romantic comedy", min_rating=4.0)

# Dynamic weighting
app.query(query, text_weight=0.7, recency_weight=0.3, limit=10)

# Natural language processing
query.with_natural_query("Find recent action movies with high ratings")
</code></pre>
<p>Sources: <a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/semantic_search_netflix_titles.ipynb#L238-L238" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/semantic_search_netflix_titles.ipynb</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">238</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/recommendations_e_commerce.ipynb#L426-L426" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/recommendations_e_commerce.ipynb</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">426</span></a> <a href="https://github.com/superlinked/superlinked/blob/6803226c/notebook/rag_hr_knowledgebase.ipynb#L388-L388" target="_blank" rel="noopener noreferrer" class="mb-1 mr-1 inline-flex items-stretch font-mono text-xs !no-underline transition-opacity hover:opacity-75"><span class="flex items-center break-all rounded-l px-2 py-1.5 bg-[#e5e5e5] text-[#333333] dark:bg-[#252525] dark:text-[#e4e4e4]"><svg class="mr-1.5 hidden h-3.5 w-3.5 flex-shrink-0 opacity-40 md:block" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>notebook/rag_hr_knowledgebase.ipynb</span><span class="flex flex-shrink-0 items-center rounded-r border-l px-2 py-1.5 border-[#dddddd] bg-[#d8d8d8] text-[#666666] dark:border-[#333333] dark:bg-[#2a2a2a] dark:text-[#888888]">388</span></a></p>
<p>The Index and Query System provides the core search functionality that transforms vector embeddings into actionable search results, supporting both simple similarity searches and complex multi-faceted queries with dynamic parameter binding and comprehensive result metadata.</p></div></div></div></div></div></div>